【關鍵澄清】

YAML frontmatter 不是獨立檔案，而是嵌入在同一個 Markdown 檔案的開頭

實際檔案長這樣：

檔案名稱：02-合約管理/簽約流程.md

檔案內容：
---
title: "簽約流程"
category: "合約管理"
tags: ["合約", "簽約", "流程"]
applicable_roles: ["房東-個人", "房東-法人"]
difficulty: "基礎"
last_updated: "2025-01-08"
author: "客服部-小王"
---

# 簽約流程

## 適用情境
當房東與房客已談妥租約條件...

## 操作步驟
1. 登入系統後...
2. 點擊「合約管理」...

## 常見問題
### Q1: 為什麼找不到我的物件？
...

☝️ 這是一個完整的 .md 檔案，包含：
- 前面 --- 包起來的部分：YAML frontmatter（元數據）
- 後面的部分：Markdown 正文內容

---
【YAML Frontmatter 的角色】

1. 給機器讀的「標籤」

---
title: "簽約流程"              ← 機器知道這是「簽約流程」
category: "合約管理"            ← 機器知道屬於「合約管理」分類
tags: ["合約", "簽約"]         ← 機器知道相關關鍵字
applicable_roles: ["房東"]     ← 機器知道適用「房東」角色
difficulty: "基礎"             ← 機器知道這是「基礎」難度
---

機器會用這些資訊做什麼？

# RAG 系統在檢索時可以這樣用
def search_knowledge(user_query, user_role="房東"):
    # 1. 用向量搜尋找到相關文檔
    results = vector_search(user_query, top_k=10)

    # 2. 用 frontmatter 過濾和排序
    filtered = []
    for doc in results:
        # 讀取 YAML frontmatter
        metadata = doc.frontmatter

        # 如果這篇適用於房東，優先顯示
        if user_role in metadata['applicable_roles']:
            filtered.append(doc)

    # 3. 按難度排序（基礎優先）
    sorted_docs = sort_by_difficulty(filtered)

    return sorted_docs

2. 給客服人員的「填表格」

客服人員編輯時，就像在填表格：

┌─────────────────────────────────┐
│ 文件標題：簽約流程                │
│ 分類：合約管理                    │
│ 標籤：□ 合約 □ 簽約 □ 流程       │
│ 適用角色：□ 房東 □ 房客           │
│ 難度：○ 基礎 ○ 進階 ○ 專家      │
│ 作者：小王                        │
└─────────────────────────────────┘

（下面是正文內容）
# 簽約流程
...

---
【客服人員如何編輯？】

方法一：用文字編輯器（如 VS Code）

---
title: "批次匯入物件"
category: "物件管理"
tags: ["物件", "批次", "匯入", "Excel"]
applicable_roles: ["房東-個人", "房東-法人", "包租業"]
difficulty: "進階"
last_updated: "2025-01-08"
author: "客服部-小李"
---

# 批次匯入物件

當您需要一次新增大量物件時...

方法二：用 Obsidian（推薦給非技術人員）

Obsidian 會把 frontmatter 渲染成表格，更友善：

⏺ Properties:
┌──────────────────────────────┐
│ title       │ 批次匯入物件     │
│ category    │ 物件管理        │
│ tags        │ 物件,批次,匯入  │
│ difficulty  │ 進階           │
└──────────────────────────────┘

# 批次匯入物件
當您需要一次新增大量物件時...

---
【檔案結構總結】

knowledge-base/
├── README.md                          ← 純 Markdown
├── _meta.json                         ← 純 JSON（可選）
│
├── 01-物件管理/
│   ├── 新增物件.md                    ← Markdown + YAML frontmatter
│   ├── 批次匯入物件.md                ← Markdown + YAML frontmatter
│   └── 物件狀態說明.md                ← Markdown + YAML frontmatter
│
└── 02-合約管理/
    ├── 簽約流程.md                    ← Markdown + YAML frontmatter
    └── 續約流程.md                    ← Markdown + YAML frontmatter

每個 .md 檔案的結構：

┌─────────────────────────────────┐
│ 檔案：簽約流程.md                 │
├─────────────────────────────────┤
│ ---                             │ ← YAML frontmatter 開始
│ title: "簽約流程"                │
│ category: "合約管理"              │
│ tags: ["合約", "簽約"]           │
│ ---                             │ ← YAML frontmatter 結束
│                                 │
│ # 簽約流程                       │ ← Markdown 正文開始
│                                 │
│ ## 適用情境                      │
│ 當房東與房客...                   │
│                                 │
│ ## 操作步驟                      │
│ 1. 登入系統...                   │
└─────────────────────────────────┘

---
【為什麼用這個格式？】

✅ 優點：

1. 一個檔案搞定
  - 不用分開管理 metadata 和內容
  - 客服只要編輯一個檔案
2. 業界標準
  - Jekyll（GitHub Pages）這樣用
  - Hugo（靜態網站生成器）這樣用
  - Obsidian（知識管理工具）這樣用
  - 有現成工具支援
3. 人機兩讀
  - 人看得懂（Markdown）
  - 機器也讀得懂（YAML 可解析）

❌ 如果分開會怎樣？

❌ 分開管理（不推薦）
02-合約管理/
  ├── 簽約流程.md           ← 內容
  └── 簽約流程.yaml         ← 元數據

問題：
- 客服要編輯兩個檔案
- 容易忘記更新 yaml
- 檔案數量加倍

---
【實際編輯流程】

情境：客服小王要新增「忘記密碼」的知識

Step 1：在 99-常見問題/ 資料夾新增檔案 忘記密碼.md

Step 2：複製模板，填寫 frontmatter

---
title: "忘記密碼怎麼辦"
category: "常見問題"
tags: ["登入", "密碼", "帳號"]
applicable_roles: ["全部"]
difficulty: "基礎"
last_updated: "2025-01-08"
author: "客服部-小王"
---

Step 3：撰寫正文

# 忘記密碼怎麼辦

## 解決方法

1. 前往登入頁面
2. 點擊「忘記密碼」連結
3. 輸入您的註冊 Email
4. 收信並點擊重設連結
5. 設定新密碼

## 常見問題

### Q: 沒收到重設信？
檢查垃圾郵件匣...

Step 4：儲存檔案，完成！

---
【總結】

| 項目      | 說明                                  |
|---------|-------------------------------------|
| 檔案類型    | 只有 .md 檔案，沒有獨立的 .yaml 檔案            |
| YAML 位置 | 在 .md 檔案的開頭，用 --- 包起來               |
| 誰填寫     | 客服人員（就像填表格一樣）                       |
| 機器怎麼用   | RAG 系統解析 frontmatter 來過濾和排序文檔       |
| 編輯工具    | 任何文字編輯器（VS Code、Obsidian、Typora...） |

簡單來說：
- ✅ 一個檔案 = YAML frontmatter（元數據）+ Markdown 正文（內容）
- ❌ 不是 YAML 檔案 + MD 檔案分開存
