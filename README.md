# ğŸ¤– AIChatbot - AI å®¢æœçŸ¥è­˜åº«ç³»çµ±

å®Œæ•´çš„ SaaS å¤šç§Ÿæˆ¶ AI å®¢æœçŸ¥è­˜åº«ç®¡ç†ç³»çµ±ï¼ŒåŒ…å«æ™ºèƒ½å•ç­”ã€æ¸¬è©¦æƒ…å¢ƒç®¡ç†ã€çŸ¥è­˜å¯©æ ¸ã€å›æ¸¬æ¡†æ¶ï¼Œæ”¯æ´ RAG æª¢ç´¢æ•´åˆèˆ‡å¤šæ¥­è€…éš”é›¢ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ¤– RAG Orchestratorï¼ˆæ™ºèƒ½å•ç­”ç³»çµ±ï¼‰
- ğŸ¯ **å¤š Intent åˆ†é¡** - æ”¯æ´ä¸€å€‹å•é¡ŒåŒæ™‚åŒ¹é…å¤šå€‹æ„åœ–ï¼ˆä¸»è¦ + æ¬¡è¦ï¼‰
- ğŸ” **æ··åˆæª¢ç´¢ç­–ç•¥** - Intent éæ¿¾ + å‘é‡ç›¸ä¼¼åº¦ï¼Œå·®ç•°åŒ–åŠ æˆï¼ˆ1.5x / 1.2xï¼‰
- ğŸ“Š **ä¸‰ç´šä¿¡å¿ƒåº¦è©•ä¼°** - é«˜/ä¸­/ä½ä¿¡å¿ƒåº¦åˆ¤æ–·
- âœ¨ **LLM ç­”æ¡ˆå„ªåŒ–** - ä½¿ç”¨ GPT-4o-mini å„ªåŒ–ç­”æ¡ˆå“è³ª
- ğŸ§  **æ„åœ–å»ºè­°å¼•æ“** - OpenAI è‡ªå‹•åˆ†ææœªçŸ¥å•é¡Œä¸¦å»ºè­°æ–°æ„åœ–
- âš¡ **ä¸‰å±¤ç·©å­˜ç³»çµ±** â­ NEW - Redis å¿«å–ï¼ˆå•é¡Œ/å‘é‡/çµæœï¼‰ï¼Œç¯€çœ 70-90% API æˆæœ¬
- ğŸŒŠ **æµå¼èŠå¤© API** â­ NEW - Server-Sent Events (SSE)ï¼Œå³æ™‚åé¥‹ç”¨æˆ¶é«”é©—
- ğŸ“‹ **SOP æ™ºèƒ½æ•´åˆ** â­ NEW - æ¥­è€… SOP æ¨¡æ¿ï¼Œæ”¯æ´é‡‘æµæ¨¡å¼å’Œæ¥­ç¨®é¡å‹å‹•æ…‹èª¿æ•´

### ğŸ§ª æ¸¬è©¦æƒ…å¢ƒç®¡ç†ç³»çµ± â­ NEW
- ğŸ“ **æ¸¬è©¦é¡Œåº«è³‡æ–™åº«** - ç®¡ç†æ¸¬è©¦å•é¡Œã€é æœŸç­”æ¡ˆã€é›£åº¦åˆ†ç´š
- ğŸ”„ **ç”¨æˆ¶å•é¡Œè‡ªå‹•è½‰æ›** - é »ç‡ â‰¥2 è‡ªå‹•å‰µå»ºæ¸¬è©¦æƒ…å¢ƒ
- ğŸ¯ **æ™ºèƒ½é‡è©¦æ©Ÿåˆ¶** - è¢«æ‹’çµ•æƒ…å¢ƒé”é«˜é »ï¼ˆâ‰¥5ï¼‰è‡ªå‹•é‡è©¦
- ğŸ‘¥ **å¯©æ ¸ä¸­å¿ƒ** - çµ±ä¸€ä»‹é¢å¯©æ ¸ï¼šæ¸¬è©¦æƒ…å¢ƒã€ç”¨æˆ¶å•é¡Œã€æ„åœ–å»ºè­°ã€AI çŸ¥è­˜å€™é¸
- ğŸ“Š **å›æ¸¬æ¡†æ¶** - æ”¯æ´ 3 ç¨®å“è³ªè©•ä¼°æ¨¡å¼ï¼ˆbasic, detailed, hybridï¼‰

### ğŸ¢ å¤šæ¥­è€…æ”¯æ´ï¼ˆMulti-Vendor SaaSï¼‰
- ğŸª **æ¥­è€…ç®¡ç†ç³»çµ±** - å®Œæ•´çš„æ¥­è€… CRUDã€å•Ÿç”¨/åœç”¨æ§åˆ¶
- âš™ï¸ **æ¥­è€…åƒæ•¸é…ç½®** - åˆ†é¡ç®¡ç†ï¼ˆå¸³å‹™ã€åˆç´„ã€æœå‹™ã€è¯çµ¡ï¼‰
- ğŸ¨ **LLM æ™ºèƒ½åƒæ•¸æ³¨å…¥** - ä¸ä½¿ç”¨æ¨¡æ¿è®Šæ•¸ï¼ŒAI è‡ªå‹•æ ¹æ“šæ¥­è€…åƒæ•¸èª¿æ•´ç­”æ¡ˆ
- ğŸ” **å¤šç§Ÿæˆ¶çŸ¥è­˜éš”é›¢** - ä¸‰å±¤çŸ¥è­˜ç¯„åœï¼ˆglobal, vendor, customizedï¼‰
- ğŸ¯ **å‹•æ…‹æ¥­å‹™ç¯„åœ** - åŸºæ–¼ user_role è‡ªå‹•æ±ºå®š B2B/B2C å ´æ™¯ â­ NEW
- ğŸ’¬ **é›™å ´æ™¯ Chat API** - åŒæ™‚æ”¯æ´ B2C (å®¢æˆ¶) å’Œ B2B (å“¡å·¥) å°è©±

### ğŸ“š çŸ¥è­˜åº«ç®¡ç†
- ğŸ” **å‘é‡åŒ–çŸ¥è­˜åº«** - PostgreSQL + pgvector èªç¾©æœå°‹
- ğŸ“ **Markdown ç·¨è¼¯å™¨** - å³æ™‚é è¦½ã€ç‰ˆæœ¬è¿½è¹¤
- ğŸ¤– **AI çŸ¥è­˜ç”Ÿæˆ** - OpenAI è‡ªå‹•å¾æ¸¬è©¦æƒ…å¢ƒç”ŸæˆçŸ¥è­˜
- ğŸ·ï¸ **çŸ¥è­˜åˆ†é¡ç³»çµ±** - æ„åœ–åˆ†é¡ã€æ¥­å‹™ç¯„åœç®¡ç†
- âš¡ **Embedding API** - çµ±ä¸€å‘é‡ç”Ÿæˆæœå‹™ï¼ŒRedis å¿«å–ç¯€çœ 70-90% æˆæœ¬
- ğŸ“¥ **çŸ¥è­˜åŒ¯å…¥ç³»çµ±** â­ NEW - æ‰¹é‡åŒ¯å…¥ Excel/JSON/TXTï¼Œé›™å±¤å»é‡ï¼ˆæ–‡å­—+èªæ„ï¼‰

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å¯©æ ¸ä¸­å¿ƒ (Review Center)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ¸¬è©¦æƒ…å¢ƒå¯©æ ¸  â”‚ â”‚ ç”¨æˆ¶å•é¡Œå¯©æ ¸  â”‚ â”‚ æ„åœ–å»ºè­°å¯©æ ¸  â”‚ â”‚ AIçŸ¥è­˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çŸ¥è­˜ç®¡ç†å‰ç«¯     â”‚â”€â”€â”€â”€â–¶â”‚ çŸ¥è­˜ç®¡ç† API     â”‚â”€â”€â”€â”€â–¶â”‚ PostgreSQL      â”‚
â”‚  (Vue.js)       â”‚     â”‚  (FastAPI)       â”‚     â”‚  + pgvector     â”‚
â”‚  Port: 8080     â”‚     â”‚  Port: 8000      â”‚     â”‚  Port: 5432     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚                           â–²
                               â”‚                           â”‚
                               â–¼                           â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
                        â”‚ Embedding API    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚  (FastAPI)       â”‚
                        â”‚  Port: 5001      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ Redis Cache      â”‚
                        â”‚  Port: 6379      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ RAG Orchestrator â”‚â—€â”€â”€â”€â”€â”€â”€ Chat API (å¤šæ¥­è€…)
                        â”‚  (FastAPI)       â”‚
                        â”‚  Port: 8100      â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚ å›æ¸¬æ¡†æ¶          â”‚
                        â”‚ (Python Script)  â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ æœå‹™åˆ—è¡¨

| æœå‹™ | æŠ€è¡“ | Port | åŠŸèƒ½ |
|------|------|------|------|
| **çŸ¥è­˜ç®¡ç†å‰ç«¯ï¼ˆé–‹ç™¼ï¼‰** | Vue.js 3 + Vite | 8087 | å¯©æ ¸ä¸­å¿ƒã€çŸ¥è­˜ç®¡ç†ã€æ¥­è€…ç®¡ç†ã€æ¸¬è©¦æƒ…å¢ƒç®¡ç†ï¼ˆç†±é‡è¼‰ï¼‰|
| **çŸ¥è­˜ç®¡ç†å‰ç«¯ï¼ˆæ­£å¼ï¼‰** | Vue.js 3 + Nginx | 8081 | éœæ…‹æª”æ¡ˆæœå‹™ï¼ˆéœ€æŒ‡å®š profileï¼‰|
| **çŸ¥è­˜ç®¡ç† API** | FastAPI | 8000 | Knowledge CRUDã€æ¸¬è©¦æƒ…å¢ƒ CRUDã€è‡ªå‹•å‘é‡æ›´æ–° |
| **Embedding API** | FastAPI | 5001 | çµ±ä¸€å‘é‡ç”Ÿæˆã€Redis å¿«å– |
| **RAG Orchestrator** | FastAPI | 8100 | æ™ºèƒ½å•ç­”ã€æ„åœ–åˆ†é¡ã€ç·©å­˜ç®¡ç†ã€çŸ¥è­˜ç”Ÿæˆ |
| **PostgreSQL** | pgvector/pgvector | 5432 | è³‡æ–™åº«ã€å‘é‡å„²å­˜ã€æ¥­è€…è³‡æ–™ã€æ¸¬è©¦é¡Œåº« |
| **Redis** | Redis 7 | 6381 | Embedding + RAG ä¸‰å±¤å¿«å– |
| **pgAdmin** | pgAdmin 4 | 5050 | è³‡æ–™åº«ç®¡ç†å·¥å…· |

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚
- Docker & Docker Compose
- OpenAI API Key
- (å¯é¸) Python 3.9+ & Node.js 18+ (æœ¬åœ°é–‹ç™¼)

### 1. è¨­å®šç’°å¢ƒè®Šæ•¸

```bash
# è¤‡è£½ç¯„ä¾‹æª”æ¡ˆ
cp .env.example .env

# ç·¨è¼¯ .envï¼Œå¡«å…¥ä½ çš„ OpenAI API Key
nano .env
```

**ä¿®æ”¹ `.env` æª”æ¡ˆï¼š**
```env
OPENAI_API_KEY=sk-proj-your-actual-api-key-here
```

### 2. å•Ÿå‹•æ‰€æœ‰æœå‹™

```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™
docker-compose up -d

# æŸ¥çœ‹æœå‹™ç‹€æ…‹
docker-compose ps

# æŸ¥çœ‹æ—¥èªŒ
docker-compose logs -f
```

### 3. å­˜å–æœå‹™

**é–‹ç™¼æ¨¡å¼ï¼ˆé è¨­ï¼‰**:
- ğŸŒ **å¯©æ ¸ä¸­å¿ƒ**: http://localhost:8087/review-center
  - æ¸¬è©¦æƒ…å¢ƒå¯©æ ¸
  - ç”¨æˆ¶å•é¡Œå¯©æ ¸
  - æ„åœ–å»ºè­°å¯©æ ¸
  - AI çŸ¥è­˜å€™é¸å¯©æ ¸
- ğŸ“š **çŸ¥è­˜åº«ç®¡ç†**: http://localhost:8087/knowledge
- ğŸ¢ **æ¥­è€…ç®¡ç†**: http://localhost:8087/vendors
- ğŸ§ª **Chat æ¸¬è©¦**: http://localhost:8087/chat-test
- ğŸ“Š **å›æ¸¬åŸ·è¡Œ**: http://localhost:8087/backtest
- ğŸ”„ **çŸ¥è­˜æ„åœ–åˆ†é¡**: http://localhost:8087/knowledge-reclassify

**API æ–‡ä»¶**:
- çŸ¥è­˜ç®¡ç† API: http://localhost:8000/docs
- Embedding API: http://localhost:5001/docs
- RAG Orchestrator: http://localhost:8100/docs

**ç®¡ç†å·¥å…·**:
- ğŸ—„ï¸ **pgAdmin**: http://localhost:5050 (å¸³è™Ÿ: `admin@aichatbot.com` / å¯†ç¢¼: `admin`)

**è¨»**: æ­£å¼æ¨¡å¼ä½¿ç”¨ port 8081ï¼Œéœ€æŒ‡å®š `--profile production`

## ğŸ“– å°ˆæ¡ˆçµæ§‹

```
AIChatbot/
â”œâ”€â”€ embedding-service/        # Embedding API æœå‹™
â”‚   â”œâ”€â”€ app.py               # FastAPI æ‡‰ç”¨
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ knowledge-admin/          # çŸ¥è­˜ç®¡ç†ç³»çµ±
â”‚   â”œâ”€â”€ backend/             # å¾Œç«¯ API
â”‚   â”‚   â”œâ”€â”€ app.py
â”‚   â”‚   â”œâ”€â”€ routes_test_scenarios.py    # æ¸¬è©¦æƒ…å¢ƒ CRUD API
â”‚   â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â””â”€â”€ frontend/            # å‰ç«¯ Web UI
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ App.vue
â”‚       â”‚   â”œâ”€â”€ router.js                # Vue Router è·¯ç”±
â”‚       â”‚   â”œâ”€â”€ views/
â”‚       â”‚   â”‚   â”œâ”€â”€ ReviewCenterView.vue      # å¯©æ ¸ä¸­å¿ƒ â­
â”‚       â”‚   â”‚   â”œâ”€â”€ TestScenariosView.vue     # æ¸¬è©¦æƒ…å¢ƒç®¡ç† â­
â”‚       â”‚   â”‚   â”œâ”€â”€ KnowledgeView.vue         # çŸ¥è­˜åº«ç®¡ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ VendorManagementView.vue  # æ¥­è€…ç®¡ç†
â”‚       â”‚   â”‚   â”œâ”€â”€ ChatTestView.vue          # Chat æ¸¬è©¦
â”‚       â”‚   â”‚   â””â”€â”€ BacktestView.vue          # å›æ¸¬åŸ·è¡Œ
â”‚       â”‚   â””â”€â”€ components/
â”‚       â”‚       â””â”€â”€ review/                   # å¯©æ ¸çµ„ä»¶ â­
â”‚       â”‚           â”œâ”€â”€ ScenarioReviewTab.vue       # æ¸¬è©¦æƒ…å¢ƒå¯©æ ¸
â”‚       â”‚           â”œâ”€â”€ UnclearQuestionReviewTab.vue # ç”¨æˆ¶å•é¡Œå¯©æ ¸
â”‚       â”‚           â”œâ”€â”€ IntentReviewTab.vue         # æ„åœ–å»ºè­°å¯©æ ¸
â”‚       â”‚           â””â”€â”€ KnowledgeReviewTab.vue      # AI çŸ¥è­˜å¯©æ ¸
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ rag-orchestrator/        # RAG å”èª¿å™¨
â”‚   â”œâ”€â”€ app.py              # FastAPI ä¸»æœå‹™
â”‚   â”œâ”€â”€ routers/            # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ chat.py                    # èŠå¤© API (å¤šæ¥­è€… + æµå¼)
â”‚   â”‚   â”œâ”€â”€ cache.py                   # ç·©å­˜ç®¡ç† API â­ NEW
â”‚   â”‚   â”œâ”€â”€ vendors.py                 # æ¥­è€…ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ intents.py                 # æ„åœ–ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ suggested_intents.py       # æ„åœ–å»ºè­°
â”‚   â”‚   â”œâ”€â”€ knowledge.py               # çŸ¥è­˜åˆ†é¡
â”‚   â”‚   â”œâ”€â”€ knowledge_generation.py    # AI çŸ¥è­˜ç”Ÿæˆ â­
â”‚   â”‚   â”œâ”€â”€ knowledge_import.py        # çŸ¥è­˜åŒ¯å…¥ â­ NEW
â”‚   â”‚   â””â”€â”€ business_scope.py          # æ¥­å‹™ç¯„åœ
â”‚   â”œâ”€â”€ services/           # æ ¸å¿ƒæœå‹™
â”‚   â”‚   â”œâ”€â”€ intent_classifier.py           # æ„åœ–åˆ†é¡
â”‚   â”‚   â”œâ”€â”€ rag_engine.py                  # RAG æª¢ç´¢
â”‚   â”‚   â”œâ”€â”€ cache_service.py               # ä¸‰å±¤ç·©å­˜æœå‹™ â­ NEW
â”‚   â”‚   â”œâ”€â”€ llm_answer_optimizer.py        # LLM ç­”æ¡ˆå„ªåŒ– + åƒæ•¸æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ knowledge_generator.py         # AI çŸ¥è­˜ç”Ÿæˆå™¨ â­
â”‚   â”‚   â”œâ”€â”€ knowledge_import_service.py    # çŸ¥è­˜åŒ¯å…¥æœå‹™ â­ NEW
â”‚   â”‚   â”œâ”€â”€ intent_manager.py              # æ„åœ–ç®¡ç†å™¨ â­
â”‚   â”‚   â”œâ”€â”€ unclear_question_manager.py    # ç”¨æˆ¶å•é¡Œç®¡ç† â­
â”‚   â”‚   â”œâ”€â”€ vendor_knowledge_retriever.py  # å¤šæ¥­è€…çŸ¥è­˜æª¢ç´¢
â”‚   â”‚   â””â”€â”€ vendor_parameter_resolver.py   # æ¥­è€…åƒæ•¸è§£æ
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ Dockerfile
â”‚
â”œâ”€â”€ database/                # è³‡æ–™åº«
â”‚   â”œâ”€â”€ init/               # åˆå§‹åŒ–è…³æœ¬
â”‚   â”‚   â””â”€â”€ *.sql          # è³‡æ–™åº«åˆå§‹åŒ– SQL
â”‚   â”œâ”€â”€ migrations/         # è³‡æ–™åº«é·ç§»ï¼ˆ28 å€‹ï¼ŒæŒ‰ç·¨è™Ÿé †åºï¼‰â­
â”‚   â”‚   â”œâ”€â”€ README.md       # Migration èªªæ˜æ–‡æª”
â”‚   â”‚   â”œâ”€â”€ 09-37-*.sql    # é·ç§»æ–‡ä»¶ï¼ˆç·¨è™Ÿå·²å„ªåŒ–ï¼Œç„¡è¡çªï¼‰âœ…
â”‚   â”‚   â”œâ”€â”€ 33-fix-knowledge-approval-embedding-intent.sql
â”‚   â”‚   â”œâ”€â”€ 37-create-vendor-sop-tables.sql  # SOP ç¯„æœ¬ç³»çµ± â­
â”‚   â”‚   â””â”€â”€ ...            # å…¶ä»–é·ç§»
â”‚   â””â”€â”€ seeds/              # æ¸¬è©¦ç¨®å­æ•¸æ“š âœ… NEW
â”‚       â”œâ”€â”€ README.md       # ä½¿ç”¨èªªæ˜
â”‚       â”œâ”€â”€ sop_templates.sql
â”‚       â””â”€â”€ *.sql          # å…¶ä»–ç¨®å­æ•¸æ“š
â”‚
â”œâ”€â”€ scripts/                 # å¯¦ç”¨è…³æœ¬ âœ…
â”‚   â”œâ”€â”€ README.md           # è…³æœ¬ä½¿ç”¨æŒ‡å—
â”‚   â”œâ”€â”€ knowledge_extraction/  # çŸ¥è­˜æå–å·¥å…·
â”‚   â”‚   â””â”€â”€ backtest_framework.py    # å›æ¸¬æ¡†æ¶ â­
â”‚   â”œâ”€â”€ tools/              # é–‹ç™¼å·¥å…·ï¼ˆé ç•™ï¼‰
â”‚   â”œâ”€â”€ import_sop_from_excel.py      # SOP åŒ¯å…¥å·¥å…·
â”‚   â””â”€â”€ *.py               # å…¶ä»–ç”Ÿç”¢è…³æœ¬
â”‚
â”œâ”€â”€ docs/                   # ğŸ“š å®Œæ•´æ–‡æª”ï¼ˆå·²é‡çµ„å„ªåŒ–ï¼‰âœ…
â”‚   â”œâ”€â”€ guides/             # ä½¿ç”¨æŒ‡å—ï¼ˆå« DEPLOYMENT, QUICKSTARTï¼‰
â”‚   â”œâ”€â”€ features/           # åŠŸèƒ½æ–‡æª”ï¼ˆå« SOP æ¶æ§‹æ–‡æª”ï¼‰
â”‚   â”œâ”€â”€ api/               # API åƒè€ƒæ–‡æª”
â”‚   â”œâ”€â”€ backtest/          # å›æ¸¬æ¡†æ¶æ–‡æª”
â”‚   â”œâ”€â”€ planning/          # è¦åŠƒæ–‡æª”ï¼ˆå«å¾…é–‹ç™¼åŠŸèƒ½ï¼‰
â”‚   â”œâ”€â”€ examples/          # æ¸¬è©¦æ•¸æ“šç¯„ä¾‹
â”‚   â”œâ”€â”€ archive/           # æ­·å²æ–‡æª”ï¼ˆå·²å„ªåŒ– 27%ï¼‰âœ…
â”‚   â”‚   â”œâ”€â”€ README.md      # æ­¸æª”èªªæ˜
â”‚   â”‚   â”œâ”€â”€ completion_reports/  (20 å€‹)
â”‚   â”‚   â”œâ”€â”€ evaluation_reports/  (8 å€‹)
â”‚   â”‚   â””â”€â”€ database_migrations/ (èˆŠåƒè€ƒ)
â”‚   â”œâ”€â”€ FILE_STRUCTURE_ANALYSIS.md   # é …ç›®çµæ§‹åˆ†æ
â”‚   â””â”€â”€ FILE_CLEANUP_REPORT.md       # æ•´ç†å ±å‘Š
â”‚
â”œâ”€â”€ tests/                  # ğŸ§ª æ¸¬è©¦æ–‡ä»¶ï¼ˆå·²çµæ§‹åŒ–ï¼‰âœ…
â”‚   â”œâ”€â”€ integration/        # æ•´åˆæ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ test_business_logic_matrix.py  # æ¥­å‹™é‚è¼¯æ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ test_fallback_mechanism.py
â”‚   â”‚   â””â”€â”€ *.py           # å…¶ä»–æ•´åˆæ¸¬è©¦
â”‚   â”œâ”€â”€ deduplication/      # å»é‡æª¢æ¸¬æ¸¬è©¦ âœ… NEW
â”‚   â”‚   â”œâ”€â”€ README.md       # æ¸¬è©¦èªªæ˜
â”‚   â”‚   â”œâ”€â”€ test_enhanced_detection.py
â”‚   â”‚   â”œâ”€â”€ verify_duplicate_detection.py
â”‚   â”‚   â””â”€â”€ *.py           # å…¶ä»–å»é‡æ¸¬è©¦
â”‚   â””â”€â”€ run_*_tests.sh     # æ¸¬è©¦åŸ·è¡Œè…³æœ¬
â”‚
â”œâ”€â”€ docker-compose.yml      # Docker Compose é…ç½®
â”œâ”€â”€ docker-compose.dev.yml  # é–‹ç™¼ç’°å¢ƒé…ç½®
â”œâ”€â”€ docker-compose.prod.yml # ç”Ÿç”¢ç’°å¢ƒé…ç½®
â”œâ”€â”€ Makefile               # å¿«é€ŸæŒ‡ä»¤
â”œâ”€â”€ .env.example           # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â”œâ”€â”€ QUICKSTART.md         # å¿«é€Ÿé–‹å§‹æŒ‡å—
â”œâ”€â”€ CHANGELOG.md          # è®Šæ›´æ—¥èªŒ
â””â”€â”€ README.md             # æœ¬æª”æ¡ˆ
```

## ğŸ› ï¸ æŠ€è¡“æ£§

### å¾Œç«¯
- **èªè¨€**: Python 3.11
- **æ¡†æ¶**: FastAPI 0.104+
- **AI**: OpenAI API (text-embedding-3-small, gpt-4o-mini, gpt-3.5-turbo)
- **è³‡æ–™åº«**: PostgreSQL 16 + pgvector
- **å¿«å–**: Redis 7
- **HTTP å®¢æˆ¶ç«¯**: httpx, requests

### å‰ç«¯
- **æ¡†æ¶**: Vue.js 3 + Vue Router
- **UI çµ„ä»¶**: è‡ªå®šç¾©çµ„ä»¶ç³»çµ±
- **ç·¨è¼¯å™¨**: SimpleMDE (Markdown)
- **HTTP**: Axios
- **æ¨£å¼**: åŸç”Ÿ CSS

### åŸºç¤è¨­æ–½
- **å®¹å™¨åŒ–**: Docker & Docker Compose
- **è³‡æ–™åº«ç®¡ç†**: pgAdmin 4
- **å‘é‡å„²å­˜**: pgvector extension (IVFFlat index)

## ğŸ“š æ–‡ä»¶å°è¦½

**ğŸ“– æ–‡æª”ä¸­å¿ƒ**: [docs/README.md](./docs/README.md) - å®Œæ•´æ–‡æª”å°è¦½èˆ‡åˆ†é¡ç´¢å¼• â­

### ğŸš€ å¿«é€Ÿé–‹å§‹
- ğŸ“˜ **å¿«é€Ÿé–‹å§‹æŒ‡å—**: [QUICKSTART.md](./QUICKSTART.md)
- ğŸ“– **é–‹ç™¼å·¥ä½œæµç¨‹**: [docs/guides/DEVELOPMENT_WORKFLOW.md](./docs/guides/DEVELOPMENT_WORKFLOW.md)

### â­ æœ€æ–°åŠŸèƒ½æ–‡æª”
- ğŸ“¥ **çŸ¥è­˜åŒ¯å…¥ç³»çµ±** â­ NEW:
  - [çŸ¥è­˜åŒ¯å…¥åŠŸèƒ½æ–‡æª”](./docs/features/KNOWLEDGE_IMPORT_FEATURE.md)
  - [çŸ¥è­˜åŒ¯å…¥ API åƒè€ƒ](./docs/api/KNOWLEDGE_IMPORT_API.md)
- ğŸ§ª **æ¸¬è©¦æƒ…å¢ƒç³»çµ±**:
  - [æ¸¬è©¦æƒ…å¢ƒç‹€æ…‹ç®¡ç†](./docs/features/TEST_SCENARIO_STATUS_MANAGEMENT.md)
  - [æ‹’çµ•æƒ…å¢ƒæ™ºèƒ½é‡è©¦](./docs/features/REJECTED_SCENARIO_RETRY_IMPLEMENTATION.md)
  - [æ¸¬è©¦æƒ…å¢ƒé·ç§»æŒ‡å—](./docs/guides/TEST_SCENARIOS_MIGRATION_GUIDE.md)
- ğŸ¯ **å¤š Intent åˆ†é¡**: [docs/features/MULTI_INTENT_CLASSIFICATION.md](./docs/features/MULTI_INTENT_CLASSIFICATION.md)
- ğŸ¤– **AI çŸ¥è­˜ç”Ÿæˆ**: [docs/features/AI_KNOWLEDGE_GENERATION_FEATURE.md](./docs/features/AI_KNOWLEDGE_GENERATION_FEATURE.md)

### ğŸ›ï¸ ç³»çµ±æ¶æ§‹
- ğŸ“ **ç³»çµ±æ¶æ§‹æ–‡ä»¶**: [docs/architecture/SYSTEM_ARCHITECTURE.md](./docs/architecture/SYSTEM_ARCHITECTURE.md)
- ğŸ¢ **Phase 1 å¤šæ¥­è€…å¯¦ä½œ**: [docs/planning/PHASE1_MULTI_VENDOR_IMPLEMENTATION.md](./docs/planning/PHASE1_MULTI_VENDOR_IMPLEMENTATION.md)
- ğŸ“‹ **Phase 2 è¦åŠƒ**: [docs/planning/PHASE2_PLANNING.md](./docs/planning/PHASE2_PLANNING.md)
- ğŸ¯ **Business Scope é‡æ§‹**: [docs/architecture/BUSINESS_SCOPE_REFACTORING.md](./docs/architecture/BUSINESS_SCOPE_REFACTORING.md) â­ NEW
- ğŸ” **èªè­‰èˆ‡æ¥­å‹™ç¯„åœæ•´åˆ**: [docs/architecture/AUTH_AND_BUSINESS_SCOPE.md](./docs/architecture/AUTH_AND_BUSINESS_SCOPE.md) â­ NEW
- ğŸ”Œ **B2B API æ•´åˆæ¡†æ¶è¨­è¨ˆ**: [docs/B2B_API_INTEGRATION_DESIGN.md](./docs/B2B_API_INTEGRATION_DESIGN.md) â­ NEW

### ğŸ§ª å›æ¸¬èˆ‡æ¸¬è©¦
- ğŸ”§ **å›æ¸¬å„ªåŒ–æŒ‡å—**: [docs/guides/BACKTEST_OPTIMIZATION_GUIDE.md](./docs/guides/BACKTEST_OPTIMIZATION_GUIDE.md)
- ğŸ“Š **å›æ¸¬å“è³ªæ•´åˆ**: [docs/backtest/BACKTEST_QUALITY_INTEGRATION.md](./docs/backtest/BACKTEST_QUALITY_INTEGRATION.md)

### ğŸ”§ æŠ€è¡“åƒè€ƒ
- ğŸ¯ **Intent ç®¡ç†**: [docs/features/INTENT_MANAGEMENT_README.md](./docs/features/INTENT_MANAGEMENT_README.md)
- ğŸ§¬ **çŸ¥è­˜æå–**: [docs/guides/KNOWLEDGE_EXTRACTION_GUIDE.md](./docs/guides/KNOWLEDGE_EXTRACTION_GUIDE.md)
- ğŸ“¡ **API åƒè€ƒ**: [docs/api/API_REFERENCE_PHASE1.md](./docs/api/API_REFERENCE_PHASE1.md)
- ğŸ˜ **pgvector è¨­å®š**: [docs/guides/PGVECTOR_SETUP.md](./docs/guides/PGVECTOR_SETUP.md)
- ğŸ’» **å‰ç«¯é–‹ç™¼æ¨¡å¼**: [docs/guides/FRONTEND_DEV_MODE.md](./docs/guides/FRONTEND_DEV_MODE.md) â­ NEW

### ğŸ“Š æ¸¬è©¦èˆ‡é©—è­‰
- âœ… **Business Scope æ¸¬è©¦å ±å‘Š**: [docs/architecture/BUSINESS_SCOPE_REFACTORING_TEST_REPORT.md](./docs/architecture/BUSINESS_SCOPE_REFACTORING_TEST_REPORT.md) â­ NEW

### ğŸ“‹ ç³»çµ±å ±å‘Š
- ğŸ” **ç³»çµ±ç›¤æŸ¥å ±å‘Š (2025-10-13)**: [docs/SYSTEM_AUDIT_REPORT_2025-10-13.md](./docs/SYSTEM_AUDIT_REPORT_2025-10-13.md) - ç³»çµ±å¥åº·æª¢æŸ¥èˆ‡æ”¹å–„å»ºè­° â­ NEW
- ğŸ“ **Business Scope é‡æ§‹ç¸½çµ**: [docs/BUSINESS_SCOPE_REFACTORING_SUMMARY.md](./docs/BUSINESS_SCOPE_REFACTORING_SUMMARY.md)
- ğŸ“ **æ–‡æª”æ›´æ–°ç¸½çµ**: [docs/DOCUMENTATION_UPDATE_SUMMARY.md](./docs/DOCUMENTATION_UPDATE_SUMMARY.md)

## ğŸ”§ å¸¸ç”¨æŒ‡ä»¤

### Docker æ“ä½œ
```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™
docker-compose up -d

# é–‹ç™¼æ¨¡å¼ï¼ˆå‹•æ…‹æ›è¼‰ç¨‹å¼ç¢¼ï¼‰
docker-compose -f docker-compose.yml -f docker-compose.dev.yml up -d

# åœæ­¢æ‰€æœ‰æœå‹™
docker-compose stop

# åœæ­¢ä¸¦ç§»é™¤å®¹å™¨
docker-compose down

# é‡æ–°å»ºç½®ä¸¦å•Ÿå‹•
docker-compose up -d --build

# æŸ¥çœ‹ç‰¹å®šæœå‹™æ—¥èªŒ
docker-compose logs -f rag-orchestrator

# é‡å•Ÿç‰¹å®šæœå‹™
docker restart aichatbot-rag-orchestrator
```

### Makefile å¿«æ·æŒ‡ä»¤
```bash
# é–‹ç™¼ç’°å¢ƒå•Ÿå‹•
make dev-up

# ç”Ÿç”¢ç’°å¢ƒå•Ÿå‹•
make prod-up

# åœæ­¢æ‰€æœ‰æœå‹™
make down

# æŸ¥çœ‹æ—¥èªŒ
make logs

# å‰ç«¯é‡æ–°ç·¨è­¯
make rebuild-frontend
```

### è³‡æ–™åº«æ“ä½œ
```bash
# é€£ç·šåˆ° PostgreSQL
docker exec -it aichatbot-postgres psql -U aichatbot -d aichatbot_admin

# æª¢æŸ¥ migrations åŸ·è¡Œç‹€æ…‹
docker exec -it aichatbot-postgres psql -U aichatbot -d aichatbot_admin -c "SELECT * FROM schema_migrations ORDER BY id;"

# åŸ·è¡Œå›æ¸¬
docker exec -it aichatbot-knowledge-admin-api python scripts/knowledge_extraction/backtest_framework.py
```

## ğŸ” API ä½¿ç”¨ç¯„ä¾‹

### 1. æ™ºèƒ½å•ç­” Chat API

```bash
# ç§Ÿå®¢è©¢å•å•é¡Œï¼ˆå¤šæ¥­è€…æ”¯æŒ + SOP æ•´åˆ + RAG æª¢ç´¢ + LLM å„ªåŒ–ï¼‰
curl -X POST http://localhost:8100/api/v1/message \
  -H "Content-Type: application/json" \
  -d '{
    "message": "é€€ç§Ÿè¦æ€éº¼è¾¦ç†ï¼Ÿ",
    "vendor_id": 1,
    "user_role": "customer",
    "user_id": "user123",
    "mode": "tenant",
    "include_sources": true
  }'

# æˆ–ä½¿ç”¨æµå¼ç«¯é»ï¼ˆå³æ™‚åé¥‹ï¼‰
curl -X POST http://localhost:8100/api/v1/chat/stream \
  -H "Content-Type: application/json" \
  -d '{
    "question": "é€€ç§Ÿè¦æ€éº¼è¾¦ç†ï¼Ÿ",
    "vendor_id": 1,
    "user_role": "customer",
    "user_id": "user123"
  }'

# å›æ‡‰ç¯„ä¾‹
{
  "question": "é€€ç§Ÿè¦æ€éº¼è¾¦ç†ï¼Ÿ",
  "answer": "é€€ç§Ÿçš„æµç¨‹å¦‚ä¸‹ï¼š\n\n1. **æå‰é€šçŸ¥**ï¼šåœ¨é å®šçš„é€€ç§Ÿæ—¥æœŸå‰30å¤©ï¼Œè«‹ä»¥æ›¸é¢æ–¹å¼é€šçŸ¥æˆ¿æ±ã€‚\n2. **ç¹³æ¸…è²»ç”¨**ï¼šç¢ºä¿æ‰€æœ‰çš„ç§Ÿé‡‘åŠæ°´é›»è²»å·²ç¶“ç¹³æ¸…ã€‚\n3. **æˆ¿å±‹æª¢æŸ¥**ï¼šèˆ‡æˆ¿æ±ç´„å®šæ™‚é–“é€²è¡Œæª¢æŸ¥ã€‚\n4. **æŠ¼é‡‘é€€é‚„**ï¼šæˆ¿å±‹ç‹€æ³è‰¯å¥½æ™‚ï¼Œæˆ¿æ±æ‡‰åœ¨7å€‹å·¥ä½œå¤©å…§é€€é‚„æŠ¼é‡‘ã€‚",
  "confidence_score": 0.85,
  "confidence_level": "high",
  "intent": {
    "intent_type": "knowledge",
    "intent_name": "é€€ç§Ÿæµç¨‹"
  },
  "retrieved_docs": [...],
  "processing_time_ms": 1250
}
```

### 2. å¤šæ¥­è€… Chat API (é›™å ´æ™¯æ”¯æ´) â­

```bash
# B2C å ´æ™¯ï¼šç§Ÿå®¢è©¢å•ç¹³è²»æ—¥
curl -X POST http://localhost:8100/api/v1/message \
  -H "Content-Type: application/json" \
  -d '{
    "message": "ç¹³è²»æ—¥æ˜¯å¹¾è™Ÿï¼Ÿ",
    "vendor_id": 1,
    "user_role": "customer"
  }'

# LLM è‡ªå‹•æ³¨å…¥æ¥­è€… A çš„åƒæ•¸
{
  "answer": "æ‚¨çš„ç§Ÿé‡‘ç¹³è²»æ—¥ç‚ºæ¯æœˆ 1 è™Ÿã€‚è«‹å‹™å¿…åœ¨é€™å€‹æ—¥æœŸå‰å®Œæˆç¹³è²»ï¼Œé€¾æœŸ 5 å¤©å¾Œå°‡åŠ æ”¶ 200 å…ƒæ‰‹çºŒè²»ã€‚",
  "intent_name": "å¸³å‹™æŸ¥è©¢",
  "confidence": 0.9,
  "vendor_id": 1
}

# B2B å ´æ™¯ï¼šæ¥­è€…å“¡å·¥è©¢å•ç³»çµ±ç®¡ç†å•é¡Œ
curl -X POST http://localhost:8100/api/v1/message \
  -H "Content-Type: application/json" \
  -d '{
    "message": "å¦‚ä½•ç®¡ç†ç§Ÿç´„åˆ°æœŸæé†’ï¼Ÿ",
    "vendor_id": 1,
    "user_role": "staff"
  }'

# å›æ‡‰ï¼šè‡ªå‹•è­˜åˆ¥ç‚ºå…§éƒ¨ç®¡ç†å ´æ™¯ï¼Œè¿”å› B2B çŸ¥è­˜
{
  "answer": "ç®¡ç†ç§Ÿç´„åˆ°æœŸæé†’çš„æ–¹å¼å¦‚ä¸‹ï¼š\n\n1. **ä½¿ç”¨ç³»çµ±åŠŸèƒ½**ï¼šç³»çµ±æœƒè‡ªå‹•ç™¼é€ç§Ÿç´„åˆ°æœŸæé†’...",
  "intent_name": "ç§Ÿç´„æŸ¥è©¢",
  "confidence": 0.8,
  "vendor_id": 1
}
```

**é‡è¦**: `user_role` åƒæ•¸æ±ºå®šæ¥­å‹™ç¯„åœï¼š
- `"customer"` â†’ B2C å¤–éƒ¨å ´æ™¯ï¼ˆç§Ÿå®¢ã€æˆ¿æ±çŸ¥è­˜ï¼‰
- `"staff"` â†’ B2B å…§éƒ¨å ´æ™¯ï¼ˆç®¡ç†å¸«ã€ç³»çµ±ç®¡ç†å“¡çŸ¥è­˜ï¼‰

### 3. æ¸¬è©¦æƒ…å¢ƒç®¡ç† API â­

```bash
# ç²å–æ‰€æœ‰æ¸¬è©¦æƒ…å¢ƒ
curl http://localhost:8000/api/test-scenarios

# ç²å–ç”¨æˆ¶å•é¡Œå€™é¸åˆ—è¡¨ï¼ˆå¯è½‰ç‚ºæ¸¬è©¦æƒ…å¢ƒï¼‰
curl http://localhost:8000/api/test/unclear-questions/candidates

# æ‰‹å‹•å°‡ç”¨æˆ¶å•é¡Œè½‰ç‚ºæ¸¬è©¦æƒ…å¢ƒ
curl -X POST http://localhost:8000/api/test/unclear-questions/37/to-scenario \
  -H "Content-Type: application/json" \
  -d '{
    "difficulty": "medium",
    "created_by": "admin"
  }'

# å¯©æ ¸æ¸¬è©¦æƒ…å¢ƒ
curl -X POST http://localhost:8000/api/test-scenarios/20/review \
  -H "Content-Type: application/json" \
  -d '{
    "status": "approved",
    "reviewed_by": "admin",
    "review_notes": "æ¸¬è©¦æƒ…å¢ƒåˆç†"
  }'
```

### 4. AI çŸ¥è­˜ç”Ÿæˆ API â­

```bash
# å¾æ¸¬è©¦æƒ…å¢ƒç”ŸæˆçŸ¥è­˜
curl -X POST http://localhost:8100/api/v1/knowledge/generate \
  -H "Content-Type: application/json" \
  -d '{
    "test_scenario_id": 20,
    "vendor_id": 1,
    "mode": "auto"
  }'

# å›æ‡‰ç¯„ä¾‹
{
  "knowledge_id": 45,
  "title": "ç¤¾å€æ¸¸æ³³æ± é–‹æ”¾æ™‚é–“",
  "content": "# ç¤¾å€æ¸¸æ³³æ± é–‹æ”¾æ™‚é–“\n\næ¸¸æ³³æ± é–‹æ”¾æ™‚é–“ç‚ºæ¯æ—¥ 06:00-22:00...",
  "status": "pending_review",
  "generated_at": "2025-10-12T10:30:00"
}
```

### 5. å›æ¸¬åŸ·è¡Œ

```bash
# åŸºç¤æ¨¡å¼å›æ¸¬ï¼ˆå¿«é€Ÿï¼‰
curl -X POST http://localhost:8000/api/backtest/run \
  -H "Content-Type: application/json" \
  -d '{
    "quality_mode": "basic",
    "sample_size": 10
  }'

# Hybrid æ¨¡å¼å›æ¸¬ï¼ˆLLM æ·±åº¦è©•ä¼°ï¼‰
curl -X POST http://localhost:8000/api/backtest/run \
  -H "Content-Type: application/json" \
  -d '{
    "quality_mode": "hybrid",
    "difficulty": "medium",
    "sample_size": 20
  }'
```

### 6. çŸ¥è­˜åŒ¯å…¥ â­ NEW

```bash
# ä¸Šå‚³ Excel æª”æ¡ˆæ‰¹é‡åŒ¯å…¥çŸ¥è­˜
curl -X POST http://localhost:8100/api/v1/knowledge-import/upload \
  -F "file=@test_knowledge_data.xlsx" \
  -F "vendor_id=1" \
  -F "import_mode=append" \
  -F "enable_deduplication=true"

# å›æ‡‰ç¯„ä¾‹
{
  "job_id": "f87958b1-a660-477f-8725-17b074da76f0",
  "status": "processing",
  "message": "æª”æ¡ˆä¸Šå‚³æˆåŠŸï¼Œé–‹å§‹è™•ç†ä¸­ã€‚æ‰€æœ‰çŸ¥è­˜å°‡é€²å…¥å¯©æ ¸ä½‡åˆ—..."
}

# æŸ¥è©¢è™•ç†ç‹€æ…‹
curl http://localhost:8100/api/v1/knowledge-import/jobs/f87958b1-a660-477f-8725-17b074da76f0

# å›æ‡‰ç¯„ä¾‹ï¼ˆå®Œæˆï¼‰
{
  "job_id": "f87958b1-a660-477f-8725-17b074da76f0",
  "status": "completed",
  "result": {
    "imported": 10,
    "skipped": 0,
    "errors": 0,
    "test_scenarios_created": 8,
    "mode": "review_queue"
  }
}
```

**åŠŸèƒ½ç‰¹è‰²**ï¼š
- âœ… æ”¯æ´ Excel/JSON/TXT å¤šç¨®æ ¼å¼
- ğŸ” é›™å±¤å»é‡ï¼šæ–‡å­—ç²¾ç¢ºåŒ¹é… + å‘é‡èªæ„ç›¸ä¼¼åº¦ï¼ˆé–¾å€¼ 0.85ï¼‰
- ğŸ¤– AI è‡ªå‹•è™•ç†ï¼šå•é¡Œç”Ÿæˆã€å‘é‡åµŒå…¥ã€æ„åœ–æ¨è–¦
- ğŸ§ª è‡ªå‹•å‰µå»ºæ¸¬è©¦æƒ…å¢ƒï¼ˆB2C çŸ¥è­˜ï¼‰
- ğŸ“‹ æ‰€æœ‰çŸ¥è­˜é€²å…¥å¯©æ ¸ä½‡åˆ—ï¼Œéœ€äººå·¥å¯©æ ¸
- ğŸ’° æˆæœ¬å„ªåŒ–ï¼šæ–‡å­—å»é‡åœ¨ LLM å‰åŸ·è¡Œï¼Œç¯€çœ API æˆæœ¬

## ğŸ“Š å°ˆæ¡ˆç‹€æ…‹

### âœ… å·²å®ŒæˆåŠŸèƒ½

| åŠŸèƒ½æ¨¡çµ„ | ç‹€æ…‹ | å®Œæˆæ—¥æœŸ |
|---------|------|---------|
| **åŸºç¤è¨­æ–½** | | |
| PostgreSQL + pgvector | âœ… | 2025-10-09 |
| Embedding API + Redis å¿«å– | âœ… | 2025-10-09 |
| çŸ¥è­˜ç®¡ç†å¾Œå° (Vue.js) | âœ… | 2025-10-09 |
| Docker å®Œæ•´éƒ¨ç½² | âœ… | 2025-10-09 |
| **RAG æ ¸å¿ƒ** | | |
| å¤š Intent åˆ†é¡ç³»çµ± | âœ… | 2025-10-11 |
| æ··åˆæª¢ç´¢ç­–ç•¥ï¼ˆå·®ç•°åŒ–åŠ æˆï¼‰ | âœ… | 2025-10-10 |
| ä¸‰ç´šä¿¡å¿ƒåº¦è©•ä¼° | âœ… | 2025-10-10 |
| LLM ç­”æ¡ˆå„ªåŒ– | âœ… | 2025-10-10 |
| å›æ¸¬æ¡†æ¶ï¼ˆ3 ç¨®æ¨¡å¼ï¼‰ | âœ… | 2025-10-11 |
| **æ„åœ–ç®¡ç†** | | |
| æ„åœ– CRUD + è¨“ç·´èªå¥ | âœ… | 2025-10-11 |
| æ„åœ–å»ºè­°å¼•æ“ï¼ˆOpenAIï¼‰ | âœ… | 2025-10-11 |
| æ¥­å‹™ç¯„åœç®¡ç† | âœ… | 2025-10-11 |
| **æ¸¬è©¦æƒ…å¢ƒç³»çµ±** â­ | | |
| æ¸¬è©¦é¡Œåº«è³‡æ–™åº«è¨­è¨ˆ | âœ… | 2025-10-11 |
| æ¸¬è©¦æƒ…å¢ƒ CRUD API | âœ… | 2025-10-12 |
| è‡ªå‹•å‰µå»ºè§¸ç™¼å™¨ï¼ˆé »ç‡ â‰¥2ï¼‰ | âœ… | 2025-10-12 |
| æ‹’çµ•é‡è©¦æ©Ÿåˆ¶ï¼ˆé »ç‡ â‰¥5ï¼‰ | âœ… | 2025-10-12 |
| å¯©æ ¸ä¸­å¿ƒçµ±ä¸€ä»‹é¢ | âœ… | 2025-10-12 |
| ç”¨æˆ¶å•é¡Œå¯©æ ¸ä»‹é¢ | âœ… | 2025-10-12 |
| AI çŸ¥è­˜ç”Ÿæˆå™¨ | âœ… | 2025-10-12 |
| **å¤šæ¥­è€…æ”¯æ´** | | |
| æ¥­è€…ç®¡ç†ç³»çµ± | âœ… | 2025-10-11 |
| æ¥­è€…åƒæ•¸é…ç½® | âœ… | 2025-10-11 |
| LLM æ™ºèƒ½åƒæ•¸æ³¨å…¥ | âœ… | 2025-10-11 |
| å¤šç§Ÿæˆ¶çŸ¥è­˜éš”é›¢ | âœ… | 2025-10-11 |
| å‹•æ…‹æ¥­å‹™ç¯„åœï¼ˆuser_roleï¼‰| âœ… | 2025-10-12 |
| é›™å ´æ™¯ Chat APIï¼ˆB2B + B2Cï¼‰| âœ… | 2025-10-12 |
| **çŸ¥è­˜åŒ¯å…¥ç³»çµ±** â­ | | |
| æª”æ¡ˆè§£æï¼ˆExcel/JSON/TXTï¼‰| âœ… | 2025-10-12 |
| æ–‡å­—å»é‡ï¼ˆç²¾ç¢ºåŒ¹é…ï¼‰ | âœ… | 2025-10-12 |
| èªæ„å»é‡ï¼ˆå‘é‡ç›¸ä¼¼åº¦ 0.85ï¼‰| âœ… | 2025-10-12 |
| AI è‡ªå‹•è™•ç†ï¼ˆå•é¡Œ/å‘é‡/æ„åœ–ï¼‰| âœ… | 2025-10-12 |
| æ¸¬è©¦æƒ…å¢ƒè‡ªå‹•å‰µå»ºï¼ˆB2Cï¼‰| âœ… | 2025-10-12 |
| å¯©æ ¸ä½‡åˆ—æ•´åˆ | âœ… | 2025-10-12 |
| èƒŒæ™¯ä»»å‹™è™•ç† | âœ… | 2025-10-12 |
| **ç³»çµ±æ¸…ç†èˆ‡é‡æ§‹** â­ | | |
| Business Scope æ¶æ§‹é‡æ§‹ | âœ… | 2025-10-12 |
| æ–‡æª”é‡çµ„ï¼ˆ60+ æ–‡ä»¶ï¼‰ | âœ… | 2025-10-12 |
| Migration ç·¨è™Ÿä¿®å¾© | âœ… | 2025-10-12 |
| è³‡æ–™åº«é‡è¤‡æ•¸æ“šæ¸…ç† | âœ… | 2025-10-12 |
| å‰ç«¯é–‹ç™¼æ¨¡å¼ï¼ˆç†±é‡è¼‰ï¼‰| âœ… | 2025-10-12 |
| **ç³»çµ±å¯©è¨ˆèˆ‡æ¸…ç†** â­ | | |
| ç³»çµ±ç›¤æŸ¥å ±å‘Šç”Ÿæˆ | âœ… | 2025-10-13 |
| éºç•™ä»£ç¢¼æ­¸æª”ï¼ˆbackend â†’ archiveï¼‰| âœ… | 2025-10-13 |
| æ–‡æª”ä¸­å¿ƒå‰µå»ºï¼ˆdocs/README.mdï¼‰| âœ… | 2025-10-13 |
| é‡è¤‡é…ç½®æ–‡ä»¶æ¸…ç† | âœ… | 2025-10-13 |

### â³ å¾…é–‹ç™¼åŠŸèƒ½ï¼ˆPhase 2ï¼‰

| åŠŸèƒ½æ¨¡çµ„ | å„ªå…ˆç´š | é è¨ˆæ™‚ç¨‹ |
|---------|-------|---------|
| **B2B é€²éšåŠŸèƒ½** | | |
| ç§Ÿå®¢èº«ä»½è­˜åˆ¥ | ğŸ”¥ é«˜ | Phase 2.1 |
| å¤–éƒ¨ API æ•´åˆæ¡†æ¶ ([è¨­è¨ˆæ–‡æª”](./docs/B2B_API_INTEGRATION_DESIGN.md)) | ğŸ”¥ é«˜ | Phase 2.1 |
| è³‡æ–™æŸ¥è©¢ API | ğŸ”¥ é«˜ | Phase 2.2 |
| æ“ä½œåŸ·è¡Œ API | ğŸ”¥ é«˜ | Phase 2.2 |
| **åˆ†æèˆ‡å ±è¡¨** | | |
| ä½¿ç”¨é‡çµ±è¨ˆ | ğŸŸ¡ ä¸­ | Phase 2.3 |
| ç†±é–€å•é¡Œæ’è¡Œ | ğŸŸ¡ ä¸­ | Phase 2.3 |
| **é€²éšåŠŸèƒ½** | | |
| å¤šèªè¨€æ”¯æ´ | ğŸŸ¢ ä½ | Phase 3 |
| é€šçŸ¥ç³»çµ± | ğŸŸ¢ ä½ | Phase 3 |

## ğŸ› æ•…éšœæ’é™¤

è©³è¦‹ [QUICKSTART.md](./QUICKSTART.md) çš„æ•…éšœæ’é™¤ç« ç¯€ã€‚

å¸¸è¦‹å•é¡Œï¼š
- **macOS æª”æ¡ˆæ¬Šé™å•é¡Œ**: ä½¿ç”¨ `xattr -c` æ¸…é™¤æ“´å±•å±¬æ€§
- **Docker å»ºç½®æœªæ›´æ–°**: ä½¿ç”¨ `docker-compose up -d --build`
- **å‰ç«¯è·¯ç”± 404**: æª¢æŸ¥ nginx.conf çš„ `try_files` é…ç½®
- **Migration æœªåŸ·è¡Œ**: æª¢æŸ¥ `schema_migrations` è¡¨
- **å›æ¸¬å¤±æ•—**: ç¢ºèª OPENAI_API_KEY å·²è¨­å®š

## ğŸ“ License

MIT

---

**ç¶­è­·è€…**: Claude Code
**å°ˆæ¡ˆå»ºç«‹**: 2024
**æœ€å¾Œæ›´æ–°**: 2025-10-22
**ç•¶å‰ç‰ˆæœ¬**: Phase 1 å®Œæˆ + Phase 3 æ€§èƒ½å„ªåŒ– + æ–‡æª”é‡çµ„

**æœ€æ–°æ›´æ–°** (2025-10-22):
- ğŸ“Š **Database Schema + ERD** - å®Œæ•´è³‡æ–™åº«æ¶æ§‹æ–‡æª”ï¼Œ16 å€‹è¡¨ + Mermaid é—œä¿‚åœ– â­ NEW
- ğŸ“ **æ–‡æª”å¯©è¨ˆå ±å‘Š** - å…¨é¢ç›¤æŸ¥ 130+ æ–‡æª”ï¼Œå»ºç«‹æ›´æ–°å„ªå…ˆç´šçŸ©é™£ â­ NEW
- ğŸ”„ **è¡“èªçµ±ä¸€** - ã€Œé‡æ–°åˆ†é¡ã€â†’ã€Œæ„åœ–åˆ†é¡ã€ï¼ˆå‰ç«¯ 12 è™•æ›´æ–°ï¼‰ â­ NEW
- âš™ï¸ **ç’°å¢ƒè®Šæ•¸æ”¯æ´** - æ„åœ–åˆ†é¡å™¨æ¨¡å‹å¯é€šé ENV é…ç½® â­ NEW
- ğŸ“˜ **README æ›´æ–°** - ä¿®æ­£ portã€è£œå……ç·©å­˜å’Œæµå¼èŠå¤©èªªæ˜ â­ NEW

**Phase 3 åŠŸèƒ½** (2025-10-21):
- âš¡ **ä¸‰å±¤ç·©å­˜ç³»çµ±** - Redis å¿«å–ï¼ˆå•é¡Œ/å‘é‡/çµæœï¼‰ï¼Œç¯€çœ 70-90% API æˆæœ¬
- ğŸŒŠ **æµå¼èŠå¤© API** - Server-Sent Events (SSE)ï¼Œå³æ™‚åé¥‹ç”¨æˆ¶é«”é©—
- ğŸ”§ **æ¢ä»¶å¼å„ªåŒ–** - æ™ºèƒ½è·¯ç”±ç­–ç•¥ï¼Œä¾ä¿¡å¿ƒåº¦é¸æ“‡è™•ç†è·¯å¾‘
- ğŸ“‹ **SOP ç³»çµ±æ•´åˆ** - æ¥­è€… SOP æ¨¡æ¿ï¼Œæ”¯æ´é‡‘æµæ¨¡å¼å’Œæ¥­ç¨®é¡å‹å‹•æ…‹èª¿æ•´

**è¿‘æœŸåŠŸèƒ½** (2025-10-12):
- ğŸ“¥ **çŸ¥è­˜åŒ¯å…¥ç³»çµ±** - æ‰¹é‡åŒ¯å…¥ Excel/JSON/TXTï¼Œé›™å±¤å»é‡ï¼ˆæ–‡å­—+èªæ„ï¼‰
- ğŸ¯ **Business Scope é‡æ§‹** - åŸºæ–¼ user_role å‹•æ…‹æ±ºå®š B2B/B2C å ´æ™¯
- ğŸ§ª **æ¸¬è©¦æƒ…å¢ƒç®¡ç†** - è‡ªå‹•è½‰æ› + æ™ºèƒ½é‡è©¦æ©Ÿåˆ¶
- ğŸ“Š **å¯©æ ¸ä¸­å¿ƒ** - çµ±ä¸€ä»‹é¢å¯©æ ¸ 4 é¡å€™é¸é …ç›®

**ä¸‹ä¸€éšæ®µ**: Phase 2 (å¤–éƒ¨ API æ•´åˆ + èªè­‰ç³»çµ±) è¦åŠƒä¸­
