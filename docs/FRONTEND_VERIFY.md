# 前端頁面驗證指南

## ✅ 快速驗證

### 1. 開啟瀏覽器
```bash
open http://localhost:8080/
```

### 2. 檢查導航選單
在頁面頂部應該看到**紫色漸層的導航列**，包含 4 個選項：

```
📚 AI 知識庫管理系統
┌─────────────────────────────────────────────────┐
│ [知識庫] [意圖管理] [建議審核] [業務範圍]       │
└─────────────────────────────────────────────────┘
```

- **知識庫**: 白底高亮（當前頁面）
- **意圖管理**: 半透明背景
- **建議審核**: 半透明背景
- **業務範圍**: 半透明背景

### 3. 測試路由切換

#### 點擊「意圖管理」
- URL 變更為: `http://localhost:8080/intents`
- 頁面標題: **🎯 意圖管理**
- 看到統計卡片: 總意圖數、已啟用、已停用
- 看到意圖列表表格

#### 點擊「建議審核」
- URL 變更為: `http://localhost:8080/suggested-intents`
- 頁面標題: **💡 建議意圖審核**
- 看到統計卡片: 待審核、已採納、已拒絕、已合併
- 如果有建議，會以卡片形式顯示

#### 點擊「業務範圍」
- URL 變更為: `http://localhost:8080/business-scope`
- 頁面標題: **⚙️ 業務範圍配置**
- 看到 2 個業務範圍卡片: external（藍色邊框✓）、internal

### 4. 測試意圖管理功能

在意圖管理頁面：

1. **查看現有意圖**
   - 應該看到 11-12 個意圖
   - 包含: 退租流程、合約規定、設備使用、租約查詢、帳務查詢等

2. **點擊「➕ 新增意圖」**
   - 彈出 Modal 對話框
   - 表單欄位: 名稱、類型、描述、關鍵字、信心度閾值等

3. **點擊某個意圖的「✏️」編輯按鈕**
   - 彈出編輯 Modal
   - 預填該意圖的資料

4. **點擊「停用」按鈕**
   - 確認後該意圖變為停用狀態
   - 狀態列顯示「✗ 停用」

5. **點擊「🔄 重新載入」**
   - 提示「✅ 意圖配置已重新載入！」

---

## 🔧 如果看不到導航選單

### 檢查清單

1. **清除瀏覽器快取**
   ```
   Chrome: Cmd+Shift+R (強制重新整理)
   ```

2. **檢查 Console 錯誤**
   ```
   開啟 Chrome DevTools (F12)
   查看 Console 是否有錯誤
   ```

3. **檢查 Network**
   ```
   開啟 Network 標籤
   重新整理頁面
   確認載入了新的 JS/CSS 檔案
   ```

4. **驗證 Docker 容器**
   ```bash
   # 確認容器正在運行
   docker ps | grep knowledge-admin-web

   # 查看容器日誌
   docker logs aichatbot-knowledge-admin-web --tail 20
   ```

5. **重新 build（如果需要）**
   ```bash
   cd /Users/lenny/jgb/AIChatbot
   docker-compose build knowledge-admin-web
   docker-compose up -d knowledge-admin-web
   ```

---

## 🎨 預期的頁面外觀

### 導航列樣式
- **背景**: 紫色漸層（從 #667eea 到 #764ba2）
- **文字**: 白色
- **高亮標籤**: 白底 + 紫色文字 + 粗體
- **懸停效果**: 淡入、輕微上移

### 意圖管理頁面
```
🎯 意圖管理

[類型過濾▼] [狀態過濾▼] [➕ 新增意圖] [🔄 重新載入]

┌─────────────┬─────────────┬─────────────┐
│ 總意圖數     │ 已啟用       │ 已停用       │
│    11       │     10      │      1      │
└─────────────┴─────────────┴─────────────┘

ID │ 名稱         │ 類型 │ 描述           │ 閾值 │ 優先級 │ 使用次數 │ 狀態  │ 操作
───┼─────────────┼─────┼───────────────┼─────┼───────┼─────────┼──────┼──────
1  │ 退租流程     │ 知識 │ 詢問退租相關... │ 0.80 │   0    │   0     │ ✓ 啟用│ ✏️ 停用 🗑️
2  │ 合約規定     │ 知識 │ 詢問租約合約... │ 0.80 │   0    │   0     │ ✓ 啟用│ ✏️ 停用 🗑️
...
```

### 建議審核頁面
```
💡 建議意圖審核

┌─────────┬─────────┬─────────┬─────────┐
│ 待審核   │ 已採納   │ 已拒絕   │ 已合併   │
│   0     │   1     │   0     │   0     │
└─────────┴─────────┴─────────┴─────────┘

[狀態過濾▼] [排序方式▼]

┌────────────────────────────────────────┐
│ 房東進入房間的權利            [已採納]   │
├────────────────────────────────────────┤
│ 類型: knowledge                        │
│ 描述: 解釋房東在租約中進入租客房間...   │
│ 關鍵字: 房東, 租約, 進入房間...         │
│ 觸發問題: "房東可以隨時進入我的房間嗎？"│
│ 相關性分數: 80%                        │
│ 頻率: 1 次                             │
│ OpenAI 推理: 該問題涉及租約規定...      │
└────────────────────────────────────────┘
```

### 業務範圍頁面
```
⚙️ 業務範圍配置

┌────────────────────────────────────────┐  ┌────────────────────────────────┐
│ 包租代管業者（外部使用）    [✓ 當前使用]│  │ 系統商（內部使用） [切換使用]   │
├────────────────────────────────────────┤  ├────────────────────────────────┤
│ 範圍名稱: external                     │  │ 範圍名稱: internal              │
│ 範圍類型: property_management          │  │ 範圍類型: system_vendor         │
│                                        │  │                                │
│ 業務描述:                              │  │ 業務描述:                       │
│ 包租代管客服系統，包含：租約管理、...   │  │ 系統商技術支援...               │
│                                        │  │                                │
│ 範例問題:                              │  │ ...                           │
│ • 如何退租？                           │  │                                │
│ • 押金什麼時候退還？                    │  │                                │
│                                        │  │                                │
│ [✏️ 編輯配置]                          │  │ [✏️ 編輯配置]                  │
└────────────────────────────────────────┘  └────────────────────────────────┘
```

---

## ✅ 驗證成功標誌

如果您看到以下內容，代表前端已正確部署：

- ✅ 紫色漸層導航列
- ✅ 4 個可點擊的導航選項
- ✅ 點擊後 URL 改變
- ✅ 頁面內容正確切換
- ✅ 統計資訊正確顯示
- ✅ 可以正常操作（新增、編輯、刪除）

---

## 🐛 常見問題

### Q: 點擊導航後頁面空白
A: 檢查瀏覽器 Console 是否有 JS 錯誤，可能是 router 未正確載入

### Q: 看到舊的單頁知識庫管理
A: 清除瀏覽器快取，強制重新整理（Cmd+Shift+R）

### Q: 顯示「找不到路由」
A: 確認 router.js 已正確建立，檢查 main.js 是否有 `use(router)`

### Q: API 請求失敗
A:
1. 檢查 rag-orchestrator 容器是否運行
2. 測試: `curl http://localhost:8100/api/v1/health`
3. 查看 Chrome Network 標籤的錯誤訊息

---

## 📞 驗證命令

```bash
# 1. 檢查容器狀態
docker ps | grep knowledge-admin-web

# 2. 檢查頁面是否可訪問
curl -I http://localhost:8080/

# 3. 檢查 JS 檔案
curl http://localhost:8080/ | grep "index-"

# 4. 檢查後端健康
curl http://localhost:8100/api/v1/health

# 5. 測試意圖 API
curl http://localhost:8100/api/v1/intents | jq '.total'

# 6. 測試建議 API
curl http://localhost:8100/api/v1/suggested-intents | jq '.total'
```

---

**最後更新**: 2025-10-10
**狀態**: ✅ 已驗證可用
