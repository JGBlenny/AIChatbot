# 信義 AI 客服系統使用手冊（非技術版）

> **適用對象**：客服人員、業務人員、測試人員、管理層
> **最後更新**：2025-12-05

---

## 目錄

1. [系統簡介](#系統簡介)
2. [對話邏輯說明](#對話邏輯說明)
3. [判斷機制](#判斷機制)
4. [如何有效測試](#如何有效測試)
5. [常見問題類型](#常見問題類型)
6. [測試檢查清單](#測試檢查清單)
7. [問題排查指南](#問題排查指南)

---

## 系統簡介

### 什麼是 AI 客服系統？

信義 AI 客服系統是一個**智能問答機器人**，能夠：

- ✅ **自動回答**租客、房東的常見問題
- ✅ **理解意圖**：知道用戶真正想問什麼
- ✅ **個性化回應**：根據不同角色（租客/房東）給出不同答案
- ✅ **動態判斷**：根據金流模式自動調整答案內容

### 系統核心能力

```
使用者提問 → AI 理解問題 → 找到最佳答案 → 優化回答 → 返回結果
```

---

## 對話邏輯說明

### 完整對話流程

當使用者提出問題時，系統會經過以下 6 個步驟：

```
┌─────────────────────────────────────────────────────────┐
│  步驟 1: 接收問題                                          │
│  「租金每個月幾號要繳？」                                    │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  步驟 2: 理解意圖                                          │
│  AI 判斷：這是「租金繳納」相關問題                            │
│  信心度：92%（高）                                          │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  步驟 3: 識別角色                                          │
│  判斷提問者：租客 / 房東 / 管理師                            │
│  （系統會根據角色給出不同答案）                               │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  步驟 4: 搜尋答案                                          │
│  優先順序：                                                │
│  1️⃣ 信義專屬 SOP（標準作業流程）                             │
│  2️⃣ 信義知識庫                                             │
│  3️⃣ 通用知識庫                                             │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  步驟 5: 動態調整                                          │
│  檢查金流模式：                                             │
│  • 金流過公司 → 使用「JGB 系統繳納」版本                      │
│  • 金流不過公司 → 使用「直接繳納房東」版本                     │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  步驟 6: 優化並回答                                        │
│  AI 優化語氣、補充細節，給出完整答案                          │
└─────────────────────────────────────────────────────────┘
```

### 範例說明

#### 範例 1: 租金繳納（金流過公司）

**使用者問：**「我要怎麼繳房租？」

**系統處理流程：**

1. **理解意圖** → 「租金繳納」（信心度 95%）
2. **識別角色** → 租客
3. **搜尋答案** → 找到信義 SOP「租金繳納流程」
4. **檢查金流** → 此房源金流過公司 ✅
5. **選擇答案** → 使用「透過 JGB 系統繳納」版本
6. **優化回答** → 補充繳納日期、逾期說明

**最終回答：**

```
您可以透過以下方式繳納租金：

1. 登入 JGB 系統（網址：...）
2. 點選「租金繳納」
3. 選擇繳納月份
4. 使用信用卡或銀行轉帳完成繳納

📅 繳納期限：每月 5 日前
⚠️  逾期說明：超過期限將收取滯納金

如有任何問題，請聯繫客服：0800-XXX-XXX
```

---

#### 範例 2: 相同問題，不同金流模式

**使用者問：**「我要怎麼繳房租？」（同樣問題）

**但這次：** 房源金流**不過公司** ❌

**系統處理流程：**

1-4. （與範例 1 相同）
5. **檢查金流** → 此房源金流不過公司 ❌
6. **選擇答案** → 使用「直接繳納房東」版本

**最終回答：**

```
您需要直接向房東繳納租金：

1. 轉帳至房東指定帳戶（請參考合約第 X 條）
2. 保留轉帳證明
3. 將證明提供給管理師存查

📅 繳納期限：每月 5 日前
💡 溫馨提醒：請務必保留繳款證明，避免糾紛

如有任何問題，請聯繫客服：0800-XXX-XXX
```

---

## 判斷機制

### 1. 意圖判斷（系統如何理解問題）

系統使用 **AI 意圖分類器**，能識別以下意圖：

| 意圖類別 | 說明 | 範例問題 |
|---------|------|---------|
| 租金繳納 | 關於租金支付 | 「租金怎麼繳？」「幾號繳房租？」 |
| 合約問題 | 關於租約內容 | 「合約可以提前解約嗎？」 |
| 設備報修 | 設施故障維修 | 「冷氣壞了怎麼辦？」「水管漏水」 |
| 押金退還 | 押金相關 | 「退租時押金何時退？」 |
| 物業規定 | 社區規範 | 「可以養寵物嗎？」「可以裝潢嗎？」 |
| 投訴處理 | 客訴問題 | 「我要投訴」「你們都不處理」 |

**判斷標準：**

- **高信心度**（≥ 85%）：直接使用判斷結果
- **中等信心度**（70-85%）：使用結果但標記「可能」
- **低信心度**（< 70%）：請求用戶澄清問題

---

### 2. 角色判斷（誰在提問）

系統會根據**提問內容和帳號資訊**判斷角色：

| 角色 | 英文代碼 | 關注重點 |
|-----|---------|---------|
| 租客 | `tenant` | 租金、報修、使用規定 |
| 房東 | `landlord` | 租金收取、合約、稅務 |
| 管理師 | `property_manager` | 處理流程、系統操作 |

**範例：**

- 「我的租金怎麼繳？」→ 租客
- 「租客的租金何時入帳？」→ 房東
- 「如何處理客訴案件？」→ 管理師

---

### 3. 金流判斷（最重要！）

**什麼是金流判斷？**

部分房源的租金會經過信義公司帳戶，部分則由租客直接支付給房東。系統需要根據**房源的金流模式**給出不同答案。

#### 金流模式對照表

| 金流模式 | 說明 | 租金繳納方式 |
|---------|------|-------------|
| ✅ 金流過公司 | 租金先進信義帳戶 | 登入 JGB 系統線上繳納 |
| ❌ 金流不過公司 | 租客直接付房東 | 轉帳至房東指定帳戶 |

#### 需要金流判斷的問題類型

- ✅ **需要判斷**：租金繳納、押金處理、收據開立、發票申請、遲付處理
- ❌ **不需判斷**：物業規定、設備說明、緊急聯絡、一般流程

#### 判斷流程

```
系統檢查問題 → 是否涉及金流？
              ↓
         [是]        [否]
          ↓           ↓
    查詢房源金流設定   直接回答
          ↓
    [過公司] [不過公司]
       ↓         ↓
   使用版本A   使用版本B
```

---

### 4. 優先級判斷（答案來源排序）

當系統找到多個可能答案時，會按照以下優先級排序：

```
🥇 第一優先：信義專屬 SOP（標準作業流程）
   └─ 最準確、最權威的答案

🥈 第二優先：信義知識庫
   └─ 經過審核的常見問題解答

🥉 第三優先：通用知識庫
   └─ 一般性知識，適用於所有業者

⛔ 都找不到：AI 生成答案（標記為「參考建議」）
```

---

## 如何有效測試

### 測試原則

1. **覆蓋各種角色**：分別用租客、房東、管理師身份測試
2. **測試邊界情況**：問一些模糊、複雜的問題
3. **驗證動態判斷**：確認金流判斷正確
4. **檢查回答品質**：答案是否完整、準確、易懂

---

### 測試方法 1: 基本功能測試

**目的：** 確認系統能正確回答常見問題

**測試步驟：**

1. 訪問測試網址：`http://your-domain/chat`
2. 輸入測試問題
3. 檢查回答內容
4. 記錄測試結果

**測試問題清單：**（見下方「測試檢查清單」）

---

### 測試方法 2: 金流判斷測試

**目的：** 確認系統會根據金流模式給出正確答案

**準備工作：**

1. 準備兩個測試帳號：
   - 帳號 A：金流過公司的房源
   - 帳號 B：金流不過公司的房源

**測試步驟：**

| 步驟 | 操作 | 預期結果 |
|-----|------|---------|
| 1 | 用帳號 A 問「租金怎麼繳？」 | 回答包含「JGB 系統」 |
| 2 | 用帳號 B 問「租金怎麼繳？」 | 回答包含「房東帳戶」 |
| 3 | 比較兩個答案 | 內容應有明顯差異 |

---

### 測試方法 3: 意圖理解測試

**目的：** 確認系統能正確理解問題意圖

**測試技巧：**

用**不同說法**問同一件事，系統應該給出相似答案：

| 原始問題 | 變換說法 1 | 變換說法 2 | 變換說法 3 |
|---------|-----------|-----------|-----------|
| 租金怎麼繳？ | 我要付房租 | 如何繳納租金 | 房租繳費方式 |
| 可以養寵物嗎？ | 能養狗嗎？ | 社區允許養貓嗎？ | 寵物飼養規定 |
| 冷氣壞了 | 冷氣不冷 | 空調故障 | 冷氣維修 |

**檢查標準：**

- ✅ **正確**：所有變換說法都得到相同/相似答案
- ❌ **錯誤**：不同說法得到完全不同的答案

---

### 測試方法 4: 壓力測試

**目的：** 測試系統處理複雜/模糊問題的能力

**測試問題類型：**

#### 4.1 多重問題

```
使用者問：「我想問租金怎麼繳，還有可以養寵物嗎？另外冷氣壞了怎麼辦？」
```

**檢查點：**
- ✅ 系統應該要求用戶分開提問
- ✅ 或者依序回答每個問題

---

#### 4.2 模糊問題

```
使用者問：「那個東西怎麼用？」
```

**檢查點：**
- ✅ 系統應該請用戶說明「那個東西」是什麼

---

#### 4.3 超出範圍問題

```
使用者問：「台北明天天氣如何？」
```

**檢查點：**
- ✅ 系統應該禮貌地說明這不在服務範圍

---

#### 4.4 情緒化問題

```
使用者問：「你們公司都不處理問題，我要投訴！！！」
```

**檢查點：**
- ✅ 系統應該以安撫語氣回答
- ✅ 提供投訴管道和聯絡方式

---

## 常見問題類型

### 類型 1: 租金相關（高頻）

| 問題 | 關鍵判斷 | 答案來源 |
|-----|---------|---------|
| 租金怎麼繳？ | 金流模式 | SOP |
| 租金幾號繳？ | - | SOP |
| 可以延遲繳納嗎？ | - | SOP |
| 遲繳會怎樣？ | - | SOP |

---

### 類型 2: 設備報修（高頻）

| 問題 | 關鍵判斷 | 答案來源 |
|-----|---------|---------|
| 冷氣壞了 | - | SOP / 知識庫 |
| 水管漏水 | 緊急程度 | SOP |
| 門鎖壞了 | 安全性 | SOP |
| 燈泡不亮 | - | 知識庫 |

---

### 類型 3: 物業規定（中頻）

| 問題 | 關鍵判斷 | 答案來源 |
|-----|---------|---------|
| 可以養寵物嗎？ | 房源規定 | SOP / 知識庫 |
| 可以裝潢嗎？ | 合約條款 | SOP |
| 垃圾怎麼丟？ | - | SOP / 知識庫 |
| 可以轉租嗎？ | 合約類型 | SOP |

---

### 類型 4: 合約相關（中頻）

| 問題 | 關鍵判斷 | 答案來源 |
|-----|---------|---------|
| 如何解約？ | 提前/到期 | SOP |
| 押金何時退？ | - | SOP |
| 合約到期怎麼辦？ | 續約意願 | SOP |
| 可以換房嗎？ | - | 知識庫 |

---

### 類型 5: 投訴處理（低頻但重要）

| 問題 | 關鍵判斷 | 答案來源 |
|-----|---------|---------|
| 我要投訴 | 情緒狀態 | SOP |
| 問題都不處理 | - | 知識庫 |
| 管理師態度差 | - | SOP |

---

## 測試檢查清單

### 基礎功能測試（必測）

```
□ 1. 租金繳納（金流過公司）
   問：「租金怎麼繳？」
   預期：提到「JGB 系統」

□ 2. 租金繳納（金流不過公司）
   問：「租金怎麼繳？」
   預期：提到「房東帳戶」

□ 3. 設備報修
   問：「冷氣壞了」
   預期：提供報修流程和聯絡方式

□ 4. 物業規定
   問：「可以養寵物嗎？」
   預期：說明寵物飼養規定

□ 5. 合約問題
   問：「如何解約？」
   預期：說明解約流程和注意事項

□ 6. 角色區分（租客）
   問：「我的租金怎麼繳？」
   預期：以租客角度回答

□ 7. 角色區分（房東）
   問：「租客的租金何時入帳？」
   預期：以房東角度回答

□ 8. 模糊問題處理
   問：「那個怎麼用？」
   預期：請求用戶澄清

□ 9. 超出範圍
   問：「台北天氣如何？」
   預期：禮貌說明不在服務範圍

□ 10. 情緒化問題
   問：「你們都不處理！」
   預期：安撫語氣 + 提供解決方案
```

---

### 進階測試（選測）

```
□ 11. 多輪對話
   問1：「我想問租金的事」
   答1：「請問您想了解租金的哪方面呢？」
   問2：「繳納方式」
   預期：回答租金繳納方式

□ 12. 同義詞理解
   「租金」vs「房租」vs「租屋費用」
   預期：回答一致

□ 13. 錯別字容忍
   「租金怎麼交？」（交→繳）
   預期：仍能正確理解

□ 14. 口語化問題
   「欸那個房租要怎麼給啊？」
   預期：正確回答

□ 15. 複合問題
   「租金怎麼繳？幾號繳？」
   預期：分別回答或整合回答
```

---

## 問題排查指南

### 情況 1: 回答不正確

**可能原因：**

1. ❌ 知識庫沒有相關資料
2. ❌ 意圖判斷錯誤
3. ❌ 金流判斷錯誤

**排查步驟：**

```
步驟 1: 確認問題是否在知識範圍內
       └─ 檢查 SOP 或知識庫是否有相關內容

步驟 2: 檢查意圖判斷
       └─ 看回答中是否顯示意圖信心度
       └─ 如果信心度低（< 70%），可能需要優化問法

步驟 3: 檢查金流判斷（如適用）
       └─ 確認房源的金流設定是否正確
       └─ 測試其他類似問題

步驟 4: 回報問題
       └─ 記錄：問題內容、實際回答、預期回答
       └─ 提供給技術團隊
```

---

### 情況 2: 回答不完整

**可能原因：**

1. ❌ 知識內容不夠詳細
2. ❌ 系統截斷過長內容

**處理方式：**

- 建議：將完整資訊加入知識庫
- 或：在 SOP 中補充詳細說明

---

### 情況 3: 回答速度慢

**可能原因：**

1. ⏱️ 系統負載高
2. ⏱️ AI 處理複雜問題

**正常回應時間：**

- 簡單問題：< 2 秒
- 一般問題：2-5 秒
- 複雜問題：5-10 秒

**超過 10 秒：** 建議回報技術團隊

---

### 情況 4: 系統無法理解問題

**可能原因：**

1. ❓ 問題太模糊
2. ❓ 使用非標準用詞
3. ❓ 問題超出範圍

**改善方式：**

- ✅ 使用更具體的問法
- ✅ 加入關鍵字（如：租金、報修、合約）
- ✅ 分段提問（一次問一件事）

---

## 測試記錄範本

### 測試報告表格

```markdown
## 測試日期：2025-12-05
## 測試人員：XXX

| 編號 | 測試問題 | 預期答案 | 實際答案 | 結果 | 備註 |
|-----|---------|---------|---------|------|------|
| 1 | 租金怎麼繳？ | 提到 JGB 系統 | ✅ 正確 | PASS | - |
| 2 | 冷氣壞了 | 提供報修流程 | ✅ 正確 | PASS | - |
| 3 | 可以養寵物嗎？ | 說明寵物規定 | ❌ 不完整 | FAIL | 缺少違規罰則 |
```

---

## 最佳實踐建議

### 給測試人員

1. **系統化測試**：按照檢查清單逐項測試
2. **記錄詳細**：每個問題都記錄結果
3. **覆蓋多樣**：測試各種角色、情境
4. **定期測試**：每次系統更新後都要重測

### 給客服人員

1. **理解系統**：知道 AI 如何判斷和回答
2. **補充說明**：AI 回答不完整時人工補充
3. **回報問題**：遇到錯誤答案立即回報
4. **優化知識**：建議新增常見問題到知識庫

### 給管理層

1. **監控品質**：定期檢查回答準確度
2. **分析趨勢**：了解使用者常問哪些問題
3. **持續優化**：根據數據調整知識庫
4. **訓練團隊**：確保所有人了解系統運作

---

## 附錄：測試用問題庫

### A. 租金類（15 題）

```
1. 租金怎麼繳？
2. 租金幾號要繳？
3. 可以延遲繳租嗎？
4. 忘記繳租金怎麼辦？
5. 租金可以分期嗎？
6. 租金包含什麼費用？
7. 租金會調漲嗎？
8. 如何查詢繳費紀錄？
9. 可以用現金繳租嗎？
10. 租金收據在哪裡？
11. 遲繳會罰款嗎？
12. 租金可以退還嗎？
13. 提前繳租有優惠嗎？
14. 租金發票怎麼開？
15. 租金匯款帳號是？
```

### B. 設備報修類（10 題）

```
1. 冷氣壞了怎麼辦？
2. 水管漏水
3. 馬桶不通
4. 門鎖壞了
5. 燈泡不亮
6. 熱水器壞了
7. 窗戶關不緊
8. 牆壁漏水
9. 網路不通
10. 瓦斯爐故障
```

### C. 物業規定類（10 題）

```
1. 可以養寵物嗎？
2. 可以裝潢嗎？
3. 可以釘牆壁嗎？
4. 垃圾怎麼丟？
5. 可以轉租嗎？
6. 可以分租嗎？
7. 可以開伙嗎？
8. 可以養貓嗎？
9. 幾點後不能吵鬧？
10. 可以在陽台曬衣服嗎？
```

### D. 合約類（10 題）

```
1. 如何解約？
2. 押金何時退？
3. 合約到期怎麼辦？
4. 可以續約嗎？
5. 提前解約要賠償嗎？
6. 合約可以更改嗎？
7. 如何申請退租？
8. 合約到期多久前要通知？
9. 押金可以抵租金嗎？
10. 合約遺失怎麼辦？
```

### E. 緊急狀況類（5 題）

```
1. 火災怎麼辦？
2. 地震怎麼辦？
3. 瓦斯外洩
4. 停電了
5. 淹水了
```

---

## 聯絡資訊

**遇到問題時：**

- 📧 Email: support@shinyi.com
- 📞 客服專線: 0800-XXX-XXX
- 💬 內部群組: Slack #ai-support

**文件維護者：** AI 開發團隊
**最後更新：** 2025-12-05

---

**版本記錄**

| 版本 | 日期 | 更新內容 |
|-----|------|---------|
| v1.0 | 2025-12-05 | 初版發布 |
