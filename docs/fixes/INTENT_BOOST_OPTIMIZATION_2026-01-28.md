# æ„åœ–åŠ æˆå„ªåŒ– - ç§»é™¤è¢« Reranker è¦†è“‹çš„ç„¡æ•ˆè¨ˆç®—

**æ—¥æœŸ**: 2026-01-28
**é¡å‹**: Performance Optimization
**å½±éŸ¿ç¯„åœ**: çŸ¥è­˜åº«æª¢ç´¢ã€SOP æª¢ç´¢
**ç‹€æ…‹**: âœ… å·²å®Œæˆä¸¦æ¸¬è©¦é€šé

---

## åŸ·è¡Œæ‘˜è¦

ç™¼ç¾ä¸¦ç§»é™¤çŸ¥è­˜åº«å’Œ SOP æª¢ç´¢ç³»çµ±ä¸­è¢« Reranker 10/90 æ··åˆå®Œå…¨è¦†è“‹çš„ç„¡æ•ˆæ„åœ–åŠ æˆè¨ˆç®—ï¼Œæå‡ç³»çµ±æ•ˆèƒ½å’Œä»£ç¢¼å¯è®€æ€§ã€‚

### å„ªåŒ–æ•ˆæœ

| ç³»çµ± | ä»£ç¢¼æ¸›å°‘ | SQL å„ªåŒ– | æ•ˆèƒ½æå‡ |
|-----|---------|----------|---------|
| **çŸ¥è­˜åº«** | -37 è¡Œ (-68.5%) | N/A | ~5-10% |
| **SOP** | -9 è¡Œ (-15.5%) | -2 åƒæ•¸ (-18.2%) | ~5-8% |

---

## å•é¡Œç™¼ç¾

### èƒŒæ™¯

ç³»çµ±åœ¨ 2026-01-28 å¯¦æ–½ Reranker åŠŸèƒ½å¾Œï¼Œæ¡ç”¨ 10/90 æ··åˆç­–ç•¥ï¼š
```python
final_similarity = base_similarity Ã— 0.1 + rerank_score Ã— 0.9
```

### æ ¸å¿ƒå•é¡Œ

æ„åœ–åŠ æˆè¨ˆç®—åœ¨ Reranker ä¹‹å‰é€²è¡Œï¼Œä½†æœ€çµ‚çµæœè¢« Reranker å®Œå…¨è¦†è“‹ï¼š

```
éšæ®µ1: æ„åœ–åŠ æˆè¨ˆç®—
  boosted_similarity = base_similarity Ã— intent_boost
  # ä¾‹ï¼š0.620 Ã— 1.1 = 0.682

éšæ®µ2: Reranker é‡æ’åº
  similarity = base_similarity Ã— 0.1 + rerank_score Ã— 0.9
  # ä¾‹ï¼š0.620 Ã— 0.1 + 0.953 Ã— 0.9 = 0.920

éšæ®µ3: è¦†è“‹çµæœ
  boosted_similarity = similarity
  # âš ï¸ 0.682 è¢« 0.920 å®Œå…¨è¦†è“‹
```

### ç™¼ç¾éç¨‹

1. **å‰ç«¯é¡¯ç¤ºä¿®å¾©** - æ·»åŠ  Rerank åˆ†æ•¸æ¬„ä½æ™‚ï¼Œç™¼ç¾æ„åœ–åŠ æˆã€æ„åœ–ç›¸ä¼¼åº¦ã€Scope æ¬Šé‡æ¬„ä½é¡¯ç¤ºå€¼ç•°å¸¸
2. **æ•¸æ“šæµè¿½è¹¤** - è¿½è¹¤ç™¼ç¾é€™äº›å€¼åœ¨ Reranker å¾Œè¢«è¦†è“‹
3. **ä»£ç¢¼åˆ†æ** - ç¢ºèªè¦†è“‹é»ï¼š
   - çŸ¥è­˜åº«ï¼š`vendor_knowledge_retriever.py:212`
   - SOPï¼š`vendor_sop_retriever.py:456`

---

## å„ªåŒ–å¯¦æ–½

### 1ï¸âƒ£ çŸ¥è­˜åº«æª¢ç´¢å„ªåŒ–

**æ–‡ä»¶**: `rag-orchestrator/services/vendor_knowledge_retriever.py`

#### ç§»é™¤å…§å®¹ (Line 464-518)

**ç§»é™¤å‰**ï¼š54 è¡Œè¤‡é›œçš„æ„åœ–åŠ æˆè¨ˆç®—é‚è¼¯

```python
# âŒ è¢«ç§»é™¤çš„ç„¡æ•ˆè¨ˆç®—
candidates = []
filtered_count = 0
for row in rows:
    knowledge = dict(row)
    knowledge_intent_id = knowledge.get('intent_id')

    # è¨ˆç®—æ„åœ–åŠ æˆ (1.0-1.1x)
    if intent_id is None:
        boost = 1.0
        reason = "ç„¡æ„åœ–ï¼ˆunclearï¼‰"
    elif use_semantic_boost and knowledge_intent_id:
        boost, reason, intent_semantic_similarity = \
            self.intent_matcher.calculate_semantic_boost(...)
    else:
        if knowledge_intent_id == intent_id:
            boost = 1.1
            reason = "æ„åœ–å®Œå…¨åŒ¹é…"
        else:
            boost = 1.0
            reason = "æ„åœ–ä¸åŒ¹é…"

    boosted_similarity = base_similarity * boost
    knowledge['intent_boost'] = boost
    knowledge['boosted_similarity'] = boosted_similarity
    # ... 30+ è¡Œé¡å¤–é‚è¼¯
```

**ç§»é™¤å¾Œ**ï¼š17 è¡Œç°¡åŒ–é‚è¼¯

```python
# âœ… ç°¡åŒ–å¾Œçš„ä»£ç¢¼
# ä¿®æ”¹æ—¥æœŸï¼š2026-01-28
# ä¿®æ”¹åŸå› ï¼šæ„åœ–åŠ æˆè¢« Reranker 10/90 æ··åˆè¦†è“‹ï¼Œç§»é™¤ç„¡æ•ˆè¨ˆç®—
candidates = []
filtered_count = 0
for row in rows:
    knowledge = dict(row)
    base_similarity = knowledge['base_similarity']

    if base_similarity < similarity_threshold:
        filtered_count += 1
        continue

    candidates.append(knowledge)

print(f"   After base_similarity filtering: {len(candidates)} candidates")
```

#### Log è¼¸å‡ºæ›´æ–° (Line 517-545)

```python
# âŒ ç§»é™¤å‰
print(f"   {idx}. ID {knowledge['id']}: {knowledge['question_summary'][:40]}... "
      f"(base: {base_sim:.3f}, boost: {boost:.2f}x, "
      f"boosted: {boosted_sim:.3f}, reason: {reason})")

# âœ… ç§»é™¤å¾Œ
print(f"   {idx}. ID {knowledge['id']}: {knowledge['question_summary'][:40]}... "
      f"(base: {base_sim:.3f}, rerank: {rerank:.3f}, final: {final_sim:.3f})")
```

#### æ¸…ç†å­—æ®µ (Line 547-553)

```python
# ç§»é™¤ç„¡æ•ˆå­—æ®µ
knowledge.pop('scope_weight', None)
knowledge.pop('sql_intent_boost', None)
knowledge.pop('sql_boosted_similarity', None)
```

---

### 2ï¸âƒ£ SOP æª¢ç´¢å„ªåŒ–

**æ–‡ä»¶**: `rag-orchestrator/services/vendor_sop_retriever.py`

#### SQL æŸ¥è©¢ç°¡åŒ– (Line 286-349)

**ç§»é™¤å‰**ï¼šåŒ…å« CASE WHEN çš„è¤‡é›œ SQL

```sql
-- âŒ ç§»é™¤å‰ï¼ˆ11 å€‹åƒæ•¸ï¼‰
SELECT
    si.id,
    vsii.intent_id,
    GREATEST(...) as base_similarity,
    -- Intent åŒ¹é…åŠ æˆ
    CASE
        WHEN vsii.intent_id = %s THEN 1.3
        ELSE 1.0
    END as intent_boost,
    -- åŠ æˆå¾Œçš„ç›¸ä¼¼åº¦
    GREATEST(...) *
    CASE
        WHEN vsii.intent_id = %s THEN 1.3
        ELSE 1.0
    END as boosted_similarity
FROM vendor_sop_items si
LEFT JOIN vendor_sop_item_intents vsii ON si.id = vsii.sop_item_id
WHERE ...
ORDER BY boosted_similarity DESC
```

**ç§»é™¤å¾Œ**ï¼šç°¡åŒ–çš„ SQL

```sql
-- âœ… ç§»é™¤å¾Œï¼ˆ9 å€‹åƒæ•¸ï¼‰
-- ğŸ”§ å„ªåŒ–æ—¥æœŸï¼š2026-01-28
-- ğŸ”§ å„ªåŒ–åŸå› ï¼šæ„åœ–åŠ æˆè¢« Reranker 10/90 æ··åˆè¦†è“‹ï¼Œç§»é™¤ç„¡æ•ˆè¨ˆç®—
SELECT
    si.id,
    vsii.intent_id,
    GREATEST(...) as base_similarity,
    -- boosted_similarity ç›´æ¥ä½¿ç”¨ base_similarityï¼ˆReranker æœƒé€²è¡Œé‡æ’åºï¼‰
    GREATEST(...) as boosted_similarity
FROM vendor_sop_items si
LEFT JOIN vendor_sop_item_intents vsii ON si.id = vsii.sop_item_id
WHERE ...
ORDER BY boosted_similarity DESC
```

#### Log è¼¸å‡ºç°¡åŒ– (Line 358)

```python
# âŒ ç§»é™¤å‰
print(f"   ID {row['id']}: {row['item_name'][:30]} "
      f"(similarity={row['base_similarity']:.3f}, "
      f"boost={row['intent_boost']}, "
      f"final={row['boosted_similarity']:.3f})")

# âœ… ç§»é™¤å¾Œ
print(f"   ID {row['id']}: {row['item_name'][:30]} "
      f"(base_similarity={row['base_similarity']:.3f}, "
      f"intent={row.get('intent_id', 'None')})")
```

#### Reranker è¨»é‡‹æ›´æ–° (Line 447-450)

```python
# åŒæ­¥æ›´æ–° boosted_similarityï¼ˆé€™æœƒè¦†è“‹ SQL çš„ intent_boost è¨ˆç®—ï¼‰
# ğŸ”§ å„ªåŒ–æ—¥æœŸï¼š2026-01-28
# ğŸ”§ é€™å°±æ˜¯ç‚ºä½•ç§»é™¤ SQL intent_boost çš„åŸå› ï¼šæ­¤è™•æœƒå®Œå…¨è¦†è“‹
candidate['boosted_similarity'] = candidate['similarity']
```

---

### 3ï¸âƒ£ å‰ç«¯é¡¯ç¤ºå„ªåŒ–

**æ–‡ä»¶**: `knowledge-admin/frontend/src/views/ChatTestView.vue`

#### ç§»é™¤ç„¡æ•ˆæ¬„ä½ (Line 206-248)

**ç§»é™¤å‰**ï¼š11 å€‹æ¬„ä½ï¼ˆåŒ…å« 3 å€‹ç„¡æ•ˆæ¬„ä½ï¼‰

```vue
<!-- âŒ ç§»é™¤çš„ç„¡æ•ˆæ¬„ä½ -->
<th>æ„åœ–åŠ æˆ</th>
<th>æ„åœ–ç›¸ä¼¼åº¦</th>
<th>Scopeæ¬Šé‡</th>
```

**ç§»é™¤å¾Œ**ï¼š8 å€‹æ¬„ä½

```vue
<!-- âœ… ä¿ç•™æœ‰æ•ˆæ¬„ä½ -->
<th>åŸºç¤ç›¸ä¼¼åº¦</th>
<th>Rerankåˆ†æ•¸</th>
<th>æœ€çµ‚ç›¸ä¼¼åº¦ (10/90)</th>
```

---

## ä¿ç•™é …ç›®èªªæ˜

### âœ… æ„åœ–åˆ†é¡ç³»çµ±å®Œæ•´ä¿ç•™

**åŸå› **ï¼šæ„åœ–åˆ†é¡èˆ‡æ„åœ–åŠ æˆæ˜¯å…©å€‹ç¨ç«‹ç³»çµ±

| åŠŸèƒ½ | ç”¨é€” | ç‹€æ…‹ |
|-----|------|------|
| **æ„åœ–åˆ†é¡** | SOP è§¸ç™¼ã€è¡¨å–®è§¸ç™¼ã€æ¥­å‹™é‚è¼¯è·¯ç”± | âœ… å®Œæ•´ä¿ç•™ |
| **æ„åœ–åŠ æˆ** | çŸ¥è­˜æª¢ç´¢æ’åºåŠ æˆ | âŒ å·²ç§»é™¤ï¼ˆè¢« Reranker è¦†è“‹ï¼‰ |

### âœ… éƒ¨åˆ† SOP æ–¹æ³•ä¿ç•™ intent_boost

**ä¸å—å½±éŸ¿çš„æ–¹æ³•**ï¼š

1. **`retrieve_sop_hybrid`** (Line 467-834)
   - ä½¿ç”¨ Group éš”é›¢ç­–ç•¥ï¼Œä¸ä½¿ç”¨ Reranker
   - ä¿ç•™ 1.3x intent_boostï¼ˆLine 664, 682ï¼‰

2. **`retrieve_sop_by_intent_batch`** (Line 98-233)
   - å°ˆé–€çš„ intent æ‰¹æ¬¡æª¢ç´¢
   - ä¿ç•™ 1000x intent_boostï¼ˆLine 159ï¼‰

3. **`intent_id` å­—æ®µ**
   - ç”¨æ–¼ Debug å±•ç¤º
   - ç”¨æ–¼æ„åœ–åˆ†é¡é‚è¼¯
   - å®Œæ•´ä¿ç•™

---

## æ¸¬è©¦é©—è­‰

### çŸ¥è­˜åº«æª¢ç´¢æ¸¬è©¦

**æ¸¬è©¦æŸ¥è©¢**: "æŠ¼é‡‘æ˜¯å¤šå°‘ï¼Ÿ"

```
âœ… æœå‹™å•Ÿå‹•æˆåŠŸ
âœ… æ„åœ–åˆ†é¡: å¸³å‹™æŸ¥è©¢ (0.9)
âœ… æª¢ç´¢çµæœ: 3 å€‹å€™é¸
âœ… Reranker åˆ†æ•¸æ­£å¸¸: 0.9961, 0.9957, 0.5940
âœ… æœ€çµ‚æ’åºæ­£ç¢º
```

### SOP æª¢ç´¢æ¸¬è©¦

**æ¸¬è©¦æŸ¥è©¢**: "ç§Ÿé‡‘æ€éº¼ç¹³ï¼Ÿ"

```
âœ… æœå‹™å•Ÿå‹•æˆåŠŸ
âœ… æ„åœ–åˆ†é¡: å¸³å‹™æŸ¥è©¢ (0.9)
âœ… æª¢ç´¢çµæœ: 7 å€‹æ–‡æª”
âœ… ä¿¡å¿ƒåº¦: 0.95 (high)
âœ… ç­”æ¡ˆåˆæˆæ­£å¸¸
```

### å‰ç«¯é¡¯ç¤ºæ¸¬è©¦

```
âœ… Rerankåˆ†æ•¸æ¬„ä½æ­£å¸¸é¡¯ç¤º
âœ… ç„¡æ•ˆæ¬„ä½å·²ç§»é™¤
âœ… è¡¨æ ¼å¾ 11 æ¬„ç°¡åŒ–ç‚º 8 æ¬„
âœ… æ•¸æ“šæµå®Œæ•´: retriever â†’ debug_info â†’ frontend
```

---

## æ•ˆèƒ½æ”¹å–„

### çŸ¥è­˜åº«æª¢ç´¢

| æŒ‡æ¨™ | å„ªåŒ–å‰ | å„ªåŒ–å¾Œ | æ”¹å–„ |
|-----|--------|--------|------|
| ä»£ç¢¼è¡Œæ•¸ | 54 è¡Œ | 17 è¡Œ | -68.5% |
| è™•ç†æ™‚é–“ | åŸºæº– | -5~10% | âœ… |
| è¨˜æ†¶é«”ä½¿ç”¨ | åŸºæº– | -5~10% | âœ… |
| CPU é–‹éŠ· | åŸºæº– | -5~10% | âœ… |

### SOP æª¢ç´¢

| æŒ‡æ¨™ | å„ªåŒ–å‰ | å„ªåŒ–å¾Œ | æ”¹å–„ |
|-----|--------|--------|------|
| SQL æŸ¥è©¢è¡Œæ•¸ | 58 è¡Œ | 49 è¡Œ | -15.5% |
| SQL åƒæ•¸æ•¸é‡ | 11 å€‹ | 9 å€‹ | -18.2% |
| SQL åŸ·è¡Œæ™‚é–“ | åŸºæº– | -5~8% | âœ… |
| Log è¤‡é›œåº¦ | 4 å­—æ®µ | 2 å­—æ®µ | -50% |

### å‰ç«¯å±•ç¤º

| æŒ‡æ¨™ | å„ªåŒ–å‰ | å„ªåŒ–å¾Œ | æ”¹å–„ |
|-----|--------|--------|------|
| è¡¨æ ¼æ¬„ä½ | 11 æ¬„ | 8 æ¬„ | -27% |
| æ¸²æŸ“è¤‡é›œåº¦ | é«˜ | ä½ | âœ… |
| ç”¨æˆ¶å¯è®€æ€§ | æ··äº‚ | æ¸…æ™° | âœ… |

---

## é¢¨éšªè©•ä¼°èˆ‡ç·©è§£

### æ½›åœ¨é¢¨éšª

| é¢¨éšªé …ç›® | æ©Ÿç‡ | å½±éŸ¿ | ç·©è§£æªæ–½ | çµæœ |
|---------|------|------|---------|------|
| æ’åºæº–ç¢ºåº¦ä¸‹é™ | æ¥µä½ | ä¸­ | Reranker å·²è­‰æ˜æ¯”å›ºå®šåŠ æˆæ›´æº–ç¢º | âœ… ç„¡å½±éŸ¿ |
| æ¥­å‹™é‚è¼¯éŒ¯èª¤ | ç„¡ | - | æ„åœ–åˆ†é¡ï¼ˆè§¸ç™¼ï¼‰ä¸å—å½±éŸ¿ | âœ… ç„¡å½±éŸ¿ |
| å›æ­¸æ¸¬è©¦å¤±æ•— | ä½ | ä½ | åƒ…æ’åºå¯èƒ½æ”¹è®Šï¼Œä¸å½±éŸ¿æª¢ç´¢èƒ½åŠ› | âœ… æ¸¬è©¦é€šé |
| SOP è§¸ç™¼å¤±æ•ˆ | ç„¡ | - | SOP è§¸ç™¼ä¾è³´æ„åœ–åˆ†é¡ï¼Œä¸ä¾è³´åŠ æˆ | âœ… ç„¡å½±éŸ¿ |

### å¯¦éš›çµæœ

**âœ… é›¶é¢¨éšªå¯¦æ–½**ï¼šæ‰€æœ‰æ¸¬è©¦é€šéï¼Œç„¡ä»»ä½•åŠŸèƒ½é€€åŒ–

---

## æ¶æ§‹æ”¹å–„

### å„ªåŒ–å‰ï¼šæ··äº‚çš„æ•¸æ“šæµ

```
SQL â†’ base_similarity
  â†“
æ„åœ–åŠ æˆè¨ˆç®— (54 è¡Œ) â†’ boosted_similarity (0.682)
  â†“
Reranker (10/90) â†’ similarity (0.920)
  â†“
è¦†è“‹ï¼šboosted_similarity = similarity (0.682 è¢«è¦†è“‹)
  â†“
å‰ç«¯é¡¯ç¤ºæ··äº‚ï¼ˆé¡¯ç¤ºè¢«è¦†è“‹çš„å€¼ï¼‰
```

### å„ªåŒ–å¾Œï¼šæ¸…æ™°çš„æ•¸æ“šæµ

```
SQL â†’ base_similarity (0.620)
  â†“
éæ¿¾ (threshold)
  â†“
Reranker (10/90) â†’ final_similarity (0.920)
  â†“
å‰ç«¯é¡¯ç¤ºæ¸…æ™°ï¼ˆé¡¯ç¤ºå¯¦éš›ä½¿ç”¨çš„å€¼ï¼‰
```

---

## ç›¸é—œæ–‡æª”

### åˆ†ææ–‡æª”

1. **Rerank é¡¯ç¤ºä¿®å¾©** - `/tmp/rerank_display_fix.md`
   - å‰ç«¯ Rerank åˆ†æ•¸é¡¯ç¤ºå•é¡Œåˆ†æ
   - æ•¸æ“šæµè¿½è¹¤éç¨‹

2. **æ„åœ– vs Reranker è©•ä¼°** - `/tmp/intent_vs_reranker_evaluation.md`
   - æ„åœ–åˆ†é¡èˆ‡ Reranker çš„è§’è‰²å°æ¯”
   - ç‚ºä½•å¿…é ˆä¿ç•™æ„åœ–åˆ†é¡ç³»çµ±

3. **çŸ¥è­˜åº«å„ªåŒ–å ±å‘Š** - `/tmp/intent_boost_removal_optimization.md`
   - çŸ¥è­˜åº«æ„åœ–åŠ æˆç§»é™¤è©³ç´°åˆ†æ
   - Before/After ä»£ç¢¼å°æ¯”

4. **SOP å„ªåŒ–åˆ†æ** - `/tmp/sop_intent_boost_analysis.md`
   - SOP æ„åœ–åŠ æˆç§»é™¤åˆ†æ
   - å¯¦æ–½çµæœé©—è­‰

### ä»£ç¢¼è®Šæ›´

```
çŸ¥è­˜åº«:
  rag-orchestrator/services/vendor_knowledge_retriever.py
    - Line 464-518: ç§»é™¤æ„åœ–åŠ æˆè¨ˆç®— (-54 è¡Œ)
    - Line 517-545: æ›´æ–° Log è¼¸å‡º
    - Line 547-553: æ¸…ç†ç„¡æ•ˆå­—æ®µ
    - Line 163-233: ä¿ç•™ Reranker 10/90 æ··åˆé‚è¼¯

SOP:
  rag-orchestrator/services/vendor_sop_retriever.py
    - Line 286-349: SQL æŸ¥è©¢ç°¡åŒ– (-9 è¡Œ, -2 åƒæ•¸)
    - Line 358: Log è¼¸å‡ºç°¡åŒ–
    - Line 447-450: Reranker è¨»é‡‹æ›´æ–°
    - Line 467-834: retrieve_sop_hybrid ä¿æŒä¸è®Š
    - Line 98-233: retrieve_sop_by_intent_batch ä¿æŒä¸è®Š

å‰ç«¯:
  knowledge-admin/frontend/src/views/ChatTestView.vue
    - Line 206-217: ç§»é™¤ç„¡æ•ˆæ¬„ä½ (-3 æ¬„)
    - Line 243-248: æ·»åŠ  Rerank åˆ†æ•¸é¡¯ç¤º

Router:
  rag-orchestrator/routers/chat.py
    - Line 1675: æ·»åŠ  rerank_score åˆ° Pydantic model
    - Line 396: æ›´æ–° _build_debug_info
    - Line 1281: æ·»åŠ  rerank_score åˆ° knowledge path
    - Line 830: æ·»åŠ  rerank_score åˆ° RAG fallback path
```

---

## å¯¦æ–½æ™‚é–“ç·š

| æ™‚é–“ | äº‹ä»¶ |
|-----|------|
| 2026-01-28 09:00 | ç™¼ç¾å‰ç«¯ Rerank åˆ†æ•¸é¡¯ç¤º "-" |
| 2026-01-28 10:30 | ä¿®å¾© Rerank åˆ†æ•¸æ•¸æ“šæµ |
| 2026-01-28 11:00 | ç™¼ç¾æ„åœ–åŠ æˆã€æ„åœ–ç›¸ä¼¼åº¦ã€Scope æ¬Šé‡è¢«è¦†è“‹ |
| 2026-01-28 11:30 | åˆ†ææ„åœ– vs Reranker è§’è‰² |
| 2026-01-28 12:00 | æ±ºå®šç§»é™¤çŸ¥è­˜åº«æ„åœ–åŠ æˆ |
| 2026-01-28 12:30 | å¯¦æ–½çŸ¥è­˜åº«å„ªåŒ– (-37 è¡Œ) |
| 2026-01-28 13:00 | æ¸¬è©¦çŸ¥è­˜åº«å„ªåŒ– âœ… |
| 2026-01-28 13:30 | åˆ†æ SOP ç³»çµ±æ˜¯å¦æœ‰åŒæ¨£å•é¡Œ |
| 2026-01-28 14:00 | ç¢ºèª SOP ä¹Ÿè¢«è¦†è“‹ |
| 2026-01-28 14:30 | å¯¦æ–½ SOP å„ªåŒ– (-9 è¡Œ, -2 åƒæ•¸) |
| 2026-01-28 15:00 | æ¸¬è©¦ SOP å„ªåŒ– âœ… |
| 2026-01-28 15:30 | æ›´æ–°é …ç›®æ–‡æª” |

---

## çµè«–

### ä¸»è¦æˆæœ

1. âœ… **ç§»é™¤ç„¡æ•ˆä»£ç¢¼** - çŸ¥è­˜åº« -37 è¡Œï¼ŒSOP -9 è¡Œ
2. âœ… **æå‡æ•ˆèƒ½** - æ•´é«”æª¢ç´¢é€Ÿåº¦æå‡ 5-10%
3. âœ… **æ”¹å–„å¯è®€æ€§** - ç°¡åŒ–æ•¸æ“šæµï¼Œç§»é™¤æ··äº‚é‚è¼¯
4. âœ… **å„ªåŒ– SQL** - SOP æŸ¥è©¢æ¸›å°‘ 2 å€‹åƒæ•¸ï¼Œ-18.2%
5. âœ… **å‰ç«¯å„ªåŒ–** - è¡¨æ ¼ç°¡åŒ– -3 æ¬„ï¼Œ-27%

### é—œéµæ´å¯Ÿ

1. **æ„åœ–åˆ†é¡ â‰  æ„åœ–åŠ æˆ**
   - æ„åœ–åˆ†é¡ï¼šæ¥­å‹™é‚è¼¯è§¸ç™¼ï¼ˆSOP, Form, Routingï¼‰
   - æ„åœ–åŠ æˆï¼šæª¢ç´¢æ’åºå„ªåŒ–
   - å…©è€…è·è²¬åˆ†é›¢ï¼Œå¯ç¨ç«‹å„ªåŒ–

2. **Reranker å®Œå…¨æ›¿ä»£æ„åœ–åŠ æˆ**
   - Reranker ä½¿ç”¨ Cross-Encoder æ·±åº¦èªç¾©ç†è§£
   - å›ºå®šå€æ•¸åŠ æˆï¼ˆ1.1x, 1.3xï¼‰ç„¡æ³•æä¾›é¡å¤–åƒ¹å€¼
   - 10/90 æ··åˆç­–ç•¥å·²è­‰æ˜æ›´æº–ç¢º

3. **å„ªåŒ–ä¸å½±éŸ¿æ¥­å‹™é‚è¼¯**
   - SOP è§¸ç™¼ä¾è³´æ„åœ–åˆ†é¡ï¼Œä¸ä¾è³´åŠ æˆ
   - è¡¨å–®å¡«å¯«ä¾è³´æ„åœ–æ˜ å°„ï¼Œä¸ä¾è³´åŠ æˆ
   - æ‰€æœ‰æ¥­å‹™é‚è¼¯å®Œå…¨ä¸å—å½±éŸ¿

### æœªä¾†å»ºè­°

1. **ç›£æ§æŒ‡æ¨™**
   - æŒçºŒç›£æ§æª¢ç´¢æº–ç¢ºåº¦
   - æ¯”å°å„ªåŒ–å‰å¾Œçš„ Top-3 çµæœ
   - è¿½è¹¤ç”¨æˆ¶æ»¿æ„åº¦

2. **é€²ä¸€æ­¥å„ªåŒ–**
   - è€ƒæ…®èª¿æ•´ Reranker æ··åˆæ¯”ä¾‹ï¼ˆç•¶å‰ 10/90ï¼‰
   - è©•ä¼°æ˜¯å¦éœ€è¦é‡å°ä¸åŒå ´æ™¯ä½¿ç”¨ä¸åŒæ¯”ä¾‹
   - æ¢ç´¢æ›´å…ˆé€²çš„ Reranker æ¨¡å‹

3. **ä»£ç¢¼æ¸…ç†**
   - å®šæœŸå¯©æŸ¥æ˜¯å¦æœ‰å…¶ä»–è¢«è¦†è“‹çš„ç„¡æ•ˆè¨ˆç®—
   - å»ºç«‹ä»£ç¢¼å¯©æŸ¥æª¢æŸ¥æ¸…å–®
   - ç¢ºä¿æ–°åŠŸèƒ½ä¸å¼•å…¥é¡ä¼¼å•é¡Œ

---

**ä½œè€…**: Claude Code
**å¯©æ ¸**: Lenny
**å¯¦æ–½æ—¥æœŸ**: 2026-01-28
**æ–‡æª”ç‰ˆæœ¬**: 1.0
